<?xml version='1.0' encoding='windows-1252'?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">
    <h:head>
        <style type="text/css">
            .ui-dialog-titlebar {
                font-size: 13px;
                font-family: sans-serif;
            }
        </style>
        <link href="#{request.contextPath}/css/style.css" rel="stylesheet" type="text/css"/>
        <link rel="icon" href="#{request.contextPath}#{paramInicio.icono}" type="#{paramInicio.tipo_mime_icono}"/>
        <script src="../../js/validaciones.js" type="text/javascript"></script>
        <meta content="1500" http-equiv="REFRESH"></meta>
    </h:head>
    <h:body>
        <f:event listener="#{rectificarInversion.validarSesion}" type="preRenderComponent"/>
         
        <f:event listener="#{rectificarInversion.listarTiposMoneda}" type="preRenderComponent"/>
         
        <f:event listener="#{rectificarInversion.listarTiposdeInfraestructura}" type="preRenderComponent"/>
         
        <f:event listener="#{rectificarInversion.filtrarConcesion}" type="preRenderComponent"/>
         
        <f:event listener="#{rectificarInversion.ListarModalidad}" type="preRenderComponent"/>
         
        <f:event listener="#{rectificarInversion.listaPeriodos}" type="preRenderComponent"/>
         
        <f:event listener="#{rectificarInversion.cargarConceptos}" type="preRenderComponent"/>
         
        <f:event listener="#{rectificarInversion.listarEstadosDelaInversion}" type="preRenderComponent"/>
         
        <f:event listener="#{rectificarInversion.listarInfraEstructuras}" type="preRenderComponent"/>
         
        <p:layout fullPage="true" style="border:none">
            <p:layoutUnit position="center" style="border:0px">
                <ui:include src="/ositran/util/menuOpciones.xhtml"/>
                <div align="center">
                    <h5 class="titulo5">RECTIFICAR RECONOCIMIENTO DE INVERSION - CONCESIONARIO</h5>
                </div>
                <div align="center" style="font-size: 11px;">
                    <p:dialog id="dlgcon" widgetVar="popupBuscarContrato" header="Buscar Contrato" modal="true"
                              resizable="false" appendToBody="true" closable="true" width="1200" height="500"
                              styleClass="dlgContent">
                        <h:form id="frmBuscarContratoDlg">
                            <p:panelGrid id="pnlBuscarContratoDlg" styleClass="pnlEdicion" columns="3"
                                         columnClasses="etiquetas,cajas,validadores">
                                <p:outputLabel for="concesion" value="#{cam.concesion}"/>
                                <p:selectOneMenu widgetVar="_cboconcesion" id="concesion"
                                                 value="#{rectificarInversion.concesion}" style="width:280px;">
                                    <f:selectItem itemLabel="-Seleccionar-" itemValue="0"/>
                                    <f:selectItems value="#{rectificarInversion.listaConcesiones}" var="lisConcesion"
                                                   itemLabel="#{lisConcesion.csiNombre}"
                                                   itemValue="#{lisConcesion.csiId}"/>
                                </p:selectOneMenu>
                                <p:message for="concesion" display="icon"/>
                                <p:outputLabel for="fechaInicioBC" value="Fecha Inicio"/>
                                <p:calendar id="fechaInicioBC" widgetVar="_fechaInicioBC"
                                            onkeypress="return validarCalendario(event);"
                                            value="#{rectificarInversion.fechaInicioSuscripcion}" locale="es"
                                            pattern="dd/MM/yyyy" style="float:left;position:relative;"
                                            maxdate="#{rectificarInversion.fechaactual}"/>
                                <p:message for="fechaInicioBC" display="icon"/>
                                <p:outputLabel for="fechaFinBC" value="Fecha Fin"/>
                                <p:calendar id="fechaFinBC" widgetVar="_fechaFinBC"
                                            onkeypress="return validarCalendario(event);"
                                            value="#{rectificarInversion.fechaFinSuscripcion}" locale="es"
                                            pattern="dd/MM/yyyy" style="float:left;position:relative;"
                                            maxdate="#{rectificarInversion.fechaactual}"/>
                                <p:message for="fechaFinBC" display="icon"/>
                            </p:panelGrid>
                            <p:panelGrid id="pnlBuscarContratoBtnDlg" styleClass="pnlEdicion" columns="1">
                                <p:panelGrid columns="2">
                                    <p:commandButton value="Buscar Contrato"
                                                     actionListener="#{rectificarInversion.buscarContratos()}"
                                                     update="contrato"/>
                                    <p:commandButton value="Limpiar"
                                                     onclick="_fechaInicioBC.setDate(null);_fechaFinBC.setDate(null);_cboconcesion.selectValue(0);"
                                                     update=":frmBuscarContratoDlg:concesion"/>
                                </p:panelGrid>
                                <p:dataTable value="#{rectificarInversion.listaContrato}" id="contrato" var="contrato11"
                                             
                                             paginatorPosition="bottom"
                                                             emptyMessage="NO SE ENCONTRARON DATOS" rows="10"
                                                             paginator="true"
                                                             paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                             rowsPerPageTemplate="5,10,20" resizableColumns="true">
                                    <p:column headerText="Fecha Suscripción">
                                        <div style="text-align: center;">
                                            <h:outputText value="#{contrato11.conFechaSuscripcionDescripcion}"/>
                                        </div>
                                    </p:column>
                                    <p:column headerText="Tipo de Infraestructura">
                                        <div style="text-align: center;">
                                            <h:outputText value="#{contrato11.nombreTipoInfraestructura}"
                                                          style="text-transform:uppercase;"/>
                                        </div>
                                    </p:column>
                                    <p:column headerText="Concesión" styleClass="tabla-wrap">
                                        <h:outputText value="#{contrato11.nombreConcesion}"/>
                                    </p:column>
                                    <p:column headerText="Modalidad" styleClass="tabla-wrap">
                                        <h:outputText value="#{contrato11.nombreModalidad}"/>
                                    </p:column>
                                    <p:column headerText="Concesionario" styleClass="tabla-wrap">
                                        <h:outputText value="#{contrato11.nombreConcesion}"
                                                      style="text-transform:uppercase;"/>
                                    </p:column>
                                    
                                    <p:column headerText="Seleccionar" >
                                        <div align="center">
                                            <p:commandButton icon="ui-icon-check"
                                                             actionListener="#{rectificarInversion.seleccionarContrato}"
                                                             update=":form :form:tablaValorizaciones"
                                                             oncomplete="popupBuscarContrato.hide();">
                                                <f:attribute name="idcontrato" value="#{contrato11}"></f:attribute>
                                            </p:commandButton>
                                        </div>
                                    </p:column>
                                </p:dataTable>
                                <p:commandButton update=":frmBuscarContratoDlg:pnlBuscarContratoDlg  :frmBuscarContratoDlg:pnlBuscarContratoBtnDlg"
                                                 process="@this" value="#{btn.btn_salir}"
                                                 oncomplete="popupBuscarContrato.hide();">
                                    <p:resetInput target=":frmBuscarContratoDlg:pnlBuscarContratoDlg :frmBuscarContratoDlg:pnlBuscarContratoBtnDlg"/>
                                </p:commandButton>
                            </p:panelGrid>
                        </h:form>
                    </p:dialog>
                     
                    <p:dialog id="dlgReconocimiento" widgetVar="_dlgReconocimiento"
                              header="Editar Montos en Reconocimiento" modal="true" resizable="false"
                              appendToBody="true" closable="true">
                        <h:form id="frmEditarMontoRec">
                            <p:panelGrid styleClass="pnlEdicion" columnClasses="etiquetas,cajas" columns="2">
                                <h:outputText value="Monto Presentado"/>
                                <p:inputText value="#{rectificarInversion.invReconocimientoVO.ivrMontoPresentado}"
                                             readonly="true"/>
                                <h:outputText value="Monto Aprobado"/>
                                <p:inputText value="#{rectificarInversion.invReconocimientoVO.ivrMontoAprobado}"
                                             onkeypress="return ValidarNumFloat(event,this);"/>
                                <p:commandButton value="#{btn.btn_aceptar}"
                                                 actionListener="#{rectificarInversion.grabarReconocimiento}"
                                                 update=":form:mensaje">
                                    <f:attribute name="reconocimiento"
                                                 value="#{rectificarInversion.invReconocimientoVO}"/>
                                </p:commandButton>
                                <p:commandButton value="#{btn.btn_salir}" onclick="_dlgReconocimiento.hide();"></p:commandButton>
                            </p:panelGrid>
                        </h:form>
                    </p:dialog>
                     
                    <p:dialog id="dlgRejuste" widgetVar="_dlgRejuste" header="Editar Montos en Reajuste" modal="true"
                              resizable="false" appendToBody="true" closable="true">
                        <h:form id="frmEditarMontoRea">
                            <p:panelGrid styleClass="pnlEdicion" columnClasses="etiquetas,cajas" columns="2">
                                <h:outputText value="Monto Presentado"/>
                                <p:inputText value="#{rectificarInversion.invReajusteVO.irjMontoAprobado}"
                                             readonly="true"/>
                                <h:outputText value="Monto Aprobado"/>
                                <p:inputText value="#{rectificarInversion.invReajusteVO.irjMontoReajuste}"
                                             onkeypress="return ValidarNumFloat(event,this);"/>
                                <p:commandButton value="#{btn.btn_aceptar}"
                                                 actionListener="#{rectificarInversion.grabarReajuste}"
                                                 update=":form:mensaje">
                                    <f:attribute name="reajuste" value="#{rectificarInversion.invReajusteVO}"/>
                                </p:commandButton>
                                <p:commandButton value="#{btn.btn_salir}" onclick="_dlgRejuste.hide();"></p:commandButton>
                            </p:panelGrid>
                        </h:form>
                    </p:dialog>
                     
                    <h:form id="form">
                        <p:growl id="mensaje" showDetail="true" life="3000"/>
                        <table>
                            <tr>
                                <td>
                                    <table>
                                        <tr>
                                            <td valign="top">
                                                <p:fieldset legend="Criterios de Busqueda">
                                                    <p:inputText id="cb"
                                                                 style="width:200px;float:left;position:relative;"
                                                                 value="#{rectificarInversion.nombreConcesion}"/>
                                                    <p:watermark for="cb" value="Buscar Contrato Concesión"/>
                                                    <p:commandButton image="ui-icon-search" id="btnBuscarContrato"
                                                                     style="float:left;position:relative;"
                                                                     actionListener="#{rectificarInversion.abrirBuscarContratos()}" update=":frmBuscarContratoDlg:pnlBuscarContratoDlg 
                                                                     :frmBuscarContratoDlg:pnlBuscarContratoBtnDlg
                                                                     :frmBuscarContratoDlg:contrato"
                                                                     oncomplete="popupBuscarContrato.show();"
                                                                     rendered="#{rectificarInversion.rolOpcion.troConsultar eq 1}">
                                                        <p:resetInput target=":frmBuscarContratoDlg:pnlBuscarContratoDlg :frmBuscarContratoDlg:pnlBuscarContratoBtnDlg"/>
                                                    </p:commandButton>
                                                </p:fieldset>
                                                 
                                                <p:fieldset legend="Expediente de Reconocimiento" styleClass="fieldContainer">
                                                    <p:dataTable value="#{rectificarInversion.listaValorizaciones}"
                                                                    id="tablaValorizaciones" var="val"
                                                                    rowKey="#{val.tiaNumero}" 
                                                                    paginatorPosition="bottom"
                                                                    paginator="true"
                                                                    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                    rowsPerPageTemplate="5,10,20" resizableColumns="true"                                                                    
                                                                    selectionMode="single"
                                                                    rows="10" style="width:500px"
                                                                    emptyMessage="NO SE ENCONTRARON DATOS">
                                                                                  <p:ajax event="rowSelect"
                                                                                        listener="#{rectificarInversion.seleccionarDeclaracion}"
                                                                                        update=":form:tblResultadoReconocimiento :form:tblReajuste :form"/>
                                                                                 <p:ajax event="rowUnselect"
                                                                                        listener="#{rectificarInversion.reseteaCampos()}"
                                                                                        update=":form:tblResultadoReconocimiento"/>
                                                                 
                                                        <p:column headerText="Nro. Val" styleClass="tabla-wrap-codigo">
                                                            <h:outputText value="#{val.tiaNumero}"/>
                                                        </p:column>
                                                        <p:column headerText="Fecha Registro" styleClass="tabla-wrap-fecha">
                                                            <h:outputText value="#{val.tiaFechaRegistroDescripcion}"
                                                                          style="text-transform:uppercase;"/>
                                                        </p:column>
                                                        <p:column headerText="Moneda" styleClass="tabla-wrap-moneda">
                                                            <h:outputText value="#{val.nombreMoneda}"
                                                                          style="text-transform:uppercase;"/>
                                                        </p:column>
                                                        <p:column headerText="Total Presentado" styleClass="tabla-wrap-montos">
                                                            <h:outputText value="#{val.tiaMontoTotalPresentado}"
                                                                          style="text-transform:uppercase;"/>
                                                        </p:column>
                                                        <p:column headerText="Estado" styleClass="tabla-wrap-estado">
                                                            <h:outputText value="#{val.iaeNombreEstado}"
                                                                          style="text-transform:uppercase;"/>
                                                        </p:column>
                                                       
                                                    </p:dataTable>
                                                </p:fieldset>
                                                 
                                                <p:fieldset legend="Datos del Avance de Inversion">
                                                    <table>
                                                        <tr>
                                                            <td>
                                                                <h:outputText value="Concesion"/>
                                                            </td>
                                                            <td>
                                                                <p:inputText value="#{rectificarInversion.invAvnVO.nombreConcesion}"
                                                                             style="width:200px;" readonly="true"/>
                                                            </td>
                                                        </tr>
                                                         
                                                        <tr>
                                                            <td>
                                                                <h:outputText value="Tipo Infraestructura"/>
                                                            </td>
                                                            <td>
                                                                <p:inputText value="#{rectificarInversion.invAvnVO.nombreTipoInfraestructura}"
                                                                             style="width:200px;" readonly="true"/>
                                                            </td>
                                                        </tr>
                                                         
                                                        <tr>
                                                            <td>
                                                                <h:outputText value="Modalidad de Concesion"/>
                                                            </td>
                                                            <td>
                                                                <p:inputText value="#{rectificarInversion.invAvnVO.nombreModalidad}"
                                                                             style="width:200px;" readonly="true"/>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </p:fieldset>
                                                 
                                                <p:fieldset legend="Etapa Concesion">
                                                    <table>
                                                        <tr>
                                                            <td>
                                                                <h:outputText value="Etapa / Periodo:"/>
                                                            </td>
                                                            <td>
                                                                <p:inputText value="#{rectificarInversion.invAvnVO.periodo}"
                                                                             style="margin-left:90px;width:200px;"
                                                                             readonly="true"/>
                                                            </td>
                                                        </tr>
                                                         
                                                        <tr>
                                                            <td>
                                                                <h:outputText value="Plazo:"/>
                                                            </td>
                                                            <td>
                                                                <p:inputText value="#{rectificarInversion.invAvnVO.plazo}"
                                                                             style="margin-left:90px;width:200px;"
                                                                             readonly="true"/>
                                                            </td>
                                                        </tr>
                                                         
                                                        <tr>
                                                            <td>
                                                                <h:outputText value="Total:"/>
                                                            </td>
                                                            <td>
                                                                <p:inputText value="#{rectificarInversion.invAvnVO.total}"
                                                                             style="margin-left:90px;width:200px;"
                                                                             readonly="true"/>
                                                            </td>
                                                            </tr>
                                                            <tr>
                                                            <td>
                                                                <h:outputText value="Moneda:"/>
                                                            </td>
                                                            <td>
                                                                <p:inputText value="#{rectificarInversion.invAvnVO.nombreMoneda}"
                                                                             style="margin-left:90px;width:200px;" readonly="true"/>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </p:fieldset>
                                            </td>
                                            <td align="top">
                                                <p:fieldset legend="Solicitud del Concesionario"
                                                            rendered="#{rectificarInversion.mostrarxDeclaracionCargada}">
                                                    <table >
                                                        <tr>
                                                            <td align="left" style="width:10px;">Estado del
                                                                                                 Reconocimiento</td>
                                                            <td align="left">
                                                                <p:selectOneMenu id="estadoreconocimiento"
                                                                                 style="width:210px !important;"
                                                                                 value="#{rectificarInversion.invAvnVO.iaeId}">
                                                                    <p:ajax listener="#{rectificarInversion.deshabilitarxObservado()}"
                                                                            update=":form"></p:ajax>
                                                                    <f:selectItem itemLabel="--Seleccione--"
                                                                                  itemValue="-1"/>
                                                                    <f:selectItem itemLabel="Aprobado" itemValue="4"/>
                                                                    <f:selectItem itemLabel="Observado" itemValue="0"/>
                                                                </p:selectOneMenu>
                                                            </td>
                                                        </tr>
                                                         
                                                        <tr>
                                                            <td align="left" >Observacion</td>
                                                            <td>
                                                                <p:inputTextarea cols="50" onkeyup="pasarMayuscula(this.value,this.id);"
                                                                                 value="#{rectificarInversion.invAvnVO.tiaObservaciones}"/>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                    <p:fieldset legend="Resultado del Reconocimiento" styleClass="fieldContainer">
                                                        <table>
                                                            <tr>
                                                                <td colspan="3">
                                                                    <p:dataTable value="#{rectificarInversion.listaReconocimiento}"
                                                                                 id="tblResultadoReconocimiento"
                                                                                 var="reconocimiento" paginatorPosition="bottom"
                                                                                 emptyMessage="NO SE ENCONTRARON DATOS"
                                                                                paginator="true"
                                                                                paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                                rowsPerPageTemplate="5,10,20" resizableColumns="true"
                                                                                
                                                                               
                                                                                rows="10">
                                                                        <p:column headerText="Nro. Val"
                                                                                  styleClass="tabla-wrap-codigo">
                                                                           
                                                                                <h:outputText value="#{reconocimiento.tiaNumero}"/>
                                                                          
                                                                        </p:column>
                                                                        <p:column headerText="Inversion"
                                                                                  styleClass="tabla-wrap-desc">
                                                                           
                                                                                <h:outputText value="#{reconocimiento.nombreInversion}"/>
                                                                            
                                                                        </p:column>
                                                                        <p:column headerText="Aeropuerto" styleClass="tabla-wrap-desc"
                                                                                  rendered="#{rectificarInversion.tipoInfraestructura eq paramInicio.tipinfaeropuertos}"
                                                                                  >
                                                                            
                                                                                <h:outputText value="#{reconocimiento.nombreInfraestructura}"
                                                                                              style="text-transform:uppercase;"/>
                                                                          
                                                                        </p:column>
                                                                        <p:column headerText="Descripcion del Concepto"
                                                                                  styleClass="tabla-wrap-desc">
                                                                            <h:outputText value="#{reconocimiento.desConcepto}"/>
                                                                        </p:column>
                                                                        <p:column headerText="Moneda" styleClass="tabla-wrap-moneda">
                                                                            <h:outputText value="#{reconocimiento.nombreMoneda}"/>
                                                                        </p:column>
                                                                        <p:column headerText="Monto Presentado"
                                                                                 styleClass="tabla-wrap-montos" >
                                                                            <h:outputText value="#{reconocimiento.ivrMontoPresentado}"
                                                                                          style="text-transform:uppercase;"/>
                                                                        </p:column>
                                                                        <p:column headerText="Monto Aprobado"
                                                                                 styleClass="tabla-wrap-montos" >
                                                                            <h:outputText value="#{reconocimiento.ivrMontoAprobado}"
                                                                                          style="text-transform:uppercase;"/>
                                                                        </p:column>
                                                                        <p:column headerText="Editar Monto"
                                                                                  styleClass="tabla-wrap-boton">
                                                                           <center>
                                                                                <p:commandButton icon="ui-icon-check"
                                                                                                 disabled="#{rectificarInversion.deshabilitarEdiciondeMontos}"
                                                                                                 actionListener="#{rectificarInversion.editarReconocimiento}"
                                                                                                 update=":frmEditarMontoRec"
                                                                                                 oncomplete="_dlgReconocimiento.show();">
                                                                                    <f:attribute name="reconocimiento"
                                                                                                 value="#{reconocimiento}"></f:attribute>
                                                                                </p:commandButton>
                                                                           </center>
                                                                        </p:column>
                                                                        <p:columnGroup type="footer">
                                                                            <p:row>
                                                                                <p:column colspan="#{rectificarInversion.tipoInfraestructura eq paramInicio.tipinfaeropuertos?5:4}"
                                                                                          footerText="Total"
                                                                                          style="text-align:right;"></p:column>
                                                                                <p:column footerText="#{rectificarInversion.totalivrMontoPresentado}"
                                                                                          style="text-align:left;"></p:column>
                                                                                <p:column footerText="#{rectificarInversion.totalivrMontoAprobado}"
                                                                                          style="text-align:left;"></p:column>
                                                                                <p:column footerText=""></p:column>
                                                                            </p:row>
                                                                        </p:columnGroup>
                                                                    </p:dataTable>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </p:fieldset>
                                                    <p:fieldset legend="Reajuste" styleClass="fieldContainer">
                                                        <table>
                                                            <tr>
                                                                <td colspan="3">
                                                                    <p:dataTable value="#{rectificarInversion.listaReajuste}"
                                                                                 id="tblReajuste" var="reajuste"
                                                                                paginatorPosition="bottom"
                                                                                 emptyMessage="NO SE ENCONTRARON DATOS"
                                                                                 paginator="true"
                                                                                paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                                rowsPerPageTemplate="5,10,20" resizableColumns="true"
                                                                                
                                                                                
                                                                                rows="10">
                                                                        <p:column headerText="Nro. Val"
                                                                                  styleClass="tabla-wrap-codigo">
                                                                            <div style="text-align: center;">
                                                                                <h:outputText value="#{reajuste.tiaNumero}"/>
                                                                            </div>
                                                                        </p:column>
                                                                        <p:column headerText="Inversion"
                                                                                  styleClass="tabla-wrap-desc">
                                                                            <div style="text-align: center;">
                                                                                <h:outputText value="#{reajuste.nombreInversion}"/>
                                                                            </div>
                                                                        </p:column>
                                                                        <p:column headerText="Aeropuerto"
                                                                                  styleClass="tabla-wrap-desc"
                                                                                  rendered="#{rectificarInversion.tipoInfraestructura eq paramInicio.tipinfaeropuertos}">
                                                                            <div style="text-align: center;">
                                                                                <h:outputText value="#{reajuste.nombreInfraestructura}"
                                                                                              style="text-transform:uppercase;"/>
                                                                            </div>
                                                                        </p:column>
                                                                        <p:column headerText="Descripcion del Concepto"
                                                                                  styleClass="tabla-wrap-desc">
                                                                            <h:outputText value="#{reajuste.desConcepto}"/>
                                                                        </p:column>
                                                                        <p:column headerText="Moneda" styleClass="tabla-wrap-moneda">
                                                                            <h:outputText value="#{reajuste.nombreMoneda}"/>
                                                                        </p:column>
                                                                        <p:column headerText="Monto Aprobado"
                                                                                  styleClass="tabla-wrap-montos">
                                                                            <h:outputText value="#{reajuste.irjMontoAprobado}"
                                                                                          style="text-transform:uppercase;"/>
                                                                        </p:column>
                                                                        <p:column headerText="Monto Reajuste"
                                                                                  styleClass="tabla-wrap-montos">
                                                                            <h:outputText value="#{reajuste.irjMontoReajuste}"
                                                                                          style="text-transform:uppercase;"/>
                                                                        </p:column>
                                                                        <p:column headerText="Editar Monto"
                                                                                  styleClass="tabla-wrap-boton">
                                                                            <center>
                                                                                <p:commandButton icon="ui-icon-check"
                                                                                                 disabled="#{rectificarInversion.deshabilitarEdiciondeMontos}"
                                                                                                 actionListener="#{rectificarInversion.editarReajuste}"
                                                                                                 update=":frmEditarMontoRea"
                                                                                                 oncomplete="_dlgRejuste.show();">
                                                                                    <f:attribute name="reajuste"
                                                                                                 value="#{reajuste}"></f:attribute>
                                                                                </p:commandButton>
                                                                            </center>
                                                                        </p:column>
                                                                        <p:columnGroup type="footer">
                                                                            <p:row>
                                                                                <p:column colspan="#{rectificarInversion.tipoInfraestructura eq paramInicio.tipinfaeropuertos?5:4}"
                                                                                          footerText="Total"
                                                                                          style="text-align:right;"></p:column>
                                                                                <p:column footerText="#{rectificarInversion.totalirjMontoAprobado}"
                                                                                          style="text-align:left;"></p:column>
                                                                                <p:column footerText="#{rectificarInversion.totalirjMontoReajuste}"
                                                                                          style="text-align:left;"></p:column>
                                                                                <p:column footerText=""></p:column>
                                                                            </p:row>
                                                                        </p:columnGroup>
                                                                    </p:dataTable>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </p:fieldset>
                                                    <p:fieldset legend="RESUMEN" id="resumen">
                                                        <table>
                                                            <tr>
                                                                <td>Monto Total Aprobado</td>
                                                                <td>
                                                                    <p:inputText id="resumenMonPre"
                                                                                 value="#{rectificarInversion.invVO.invMontoTotalAprobado}"
                                                                                 onfocus="this.blur()"/>
                                                                </td>
                                                                <td>Monto Total con Reajuste</td>
                                                                <td>
                                                                    <p:inputText id="resumenMonRea"
                                                                                 value="#{rectificarInversion.invVO.invMontoTotalReajuste}"
                                                                                 onfocus="this.blur()"/>
                                                                </td>
                                                                <td>Montos con IGV?</td>
                                                                <td>
                                                                    <p:selectBooleanCheckbox value="#{rectificarInversion.calcularIGV}" 
                                                                                             disabled="#{rectificarInversion.invAvnVO.iaeId eq 0}">
                                                                        <p:ajax listener="#{rectificarInversion.resetIGV()}"
                                                                                update="form"/>
                                                                    </p:selectBooleanCheckbox>
                                                                </td>
                                                                <td>
                                                                    <h:outputText value="IGV"
                                                                                  rendered="#{rectificarInversion.calcularIGV}"/>
                                                                </td>
                                                               
                                                            </tr>
                                                        </table>
                                                    </p:fieldset>
                                                    <table>
                                                        <tr>
                                                            <td align="left">
                                                                <h:outputText value="Nro Informe"/>
                                                            </td>
                                                            <td align="left">
                                                                <p:inputText value="#{rectificarInversion.invVO.invNumeroInforme}"
                                                                             
                                                                             size="10"
                                                                     onkeyup="pasarMayuscula(this.value,this.id);"/>
                                                                 
                                                                <h:outputText style="color:red;" value="*"/>
                                                            </td>
                                                            <td align="left">
                                                                <h:outputText value="Fecha de Emision"/>
                                                            </td>
                                                            <td align="left">
                                                                <p:calendar size="10" pattern="dd/MM/yyyy"  maxdate="#{declararInversionMB.fechaactual}"
                                                                            value="#{rectificarInversion.invVO.invFechaEmisionInforme}"
                                                                            
                                                                            locale="es" onkeypress="return validarCalendario(event);"/>
                                                                 
                                                                <h:outputText style="color:red;" value="*"/>
                                                            </td>
                                                            <td align="left">
                                                                <h:outputText value="Registro de Salida"/>
                                                            </td>
                                                            <td align="left">
                                                                <p:inputText value="#{rectificarInversion.invVO.invRegSalidaInforme}"
                                                                             
                                                                             size="10"
                                                                     onkeyup="pasarMayuscula(this.value,this.id);"/>
                                                                 
                                                                <h:outputText style="color:red;" value="*"/>
                                                            </td>
                                                        </tr>
                                                         
                                                        <tr>
                                                            <td align="left">
                                                                <h:outputText value="Nro Oficio"/>
                                                            </td>
                                                            <td align="left">
                                                                <p:inputText value="#{rectificarInversion.invVO.invNumeroOficio}"
                                                                             
                                                                             size="10"
                                                                     onkeyup="pasarMayuscula(this.value,this.id);"/>
                                                                 
                                                                <h:outputText style="color:red;" value="*"/>
                                                            </td>
                                                            <td align="left">
                                                                <h:outputText value="Fecha de Emision"/>
                                                            </td>
                                                            <td align="left">
                                                                <p:calendar size="10" pattern="dd/MM/yyyy"  maxdate="#{declararInversionMB.fechaactual}"
                                                                            value="#{rectificarInversion.invVO.invFechaEmisionOficio}"
                                                                            
                                                                            locale="es" onkeypress="return validarCalendario(event);"/>
                                                                 
                                                                <h:outputText style="color:red;" value="*"/>
                                                            </td>
                                                            <td align="left">
                                                                <h:outputText value="Registro de Salida"/>
                                                            </td>
                                                            <td align="left">
                                                                <p:inputText value="#{rectificarInversion.invVO.invRegSalidaOficio}"
                                                                             
                                                                             size="10"
                                                                     onkeyup="pasarMayuscula(this.value,this.id);"/>
                                                                 
                                                                <h:outputText style="color:red;" value="*"/>
                                                            </td>
                                                        </tr>
                                                         
                                                        <tr>
                                                            <td align="left">Nota Tipo de Cambio</td>
                                                            <td align="left" colspan="3">
                                                                <p:inputText id="tipoCambio"
                                                                             value="#{rectificarInversion.invVO.invNotaTipoCambio}"
                                                                             disabled="#{rectificarInversion.invAvnVO.monId ne 1}"
                                                                             onkeyup="pasarMayuscula(this.value,this.id);" style="width:250px !important;" ></p:inputText>
                                                                 
                                                                <h:outputText style="color:red;" value="*"
                                                                              rendered="#{rectificarInversion.invAvnVO.monId eq 1}"/>
                                                            </td>
                                                            <td align="left">Monto Tipo de Cambio</td>
                                                            <td align="left">
                                                                <p:inputMask id="montodeclaracion"
                                                                             value="#{rectificarInversion.invVO.invMontoTipoCambio}"
                                                                             onkeypress="return ValidarNumFloat(event,this);"
                                                                             mask="9.99" size="10" maxlength="4"
                                                                             disabled="#{rectificarInversion.invAvnVO.monId ne 1}"/>
                                                                 
                                                                <h:outputText style="color:red;" value="*"
                                                                              rendered="#{rectificarInversion.invAvnVO.monId eq 1}"/>
                                                            </td>
                                                        </tr>
                                                         
                                                        <tr>
                                                            <td align="left">
                                                                <h:outputText value="Nota"/>
                                                            </td>
                                                            <td align="left" colspan="5" >
                                                                <p:inputTextarea value="#{rectificarInversion.invVO.invNota}"
                                                                                  style="width:400px !important;"/>
                                                                 
                                                                <h:outputText style="color:red;" value="*"/>
                                                            </td>
                                                        </tr>
                                                         
                                                        <tr>
                                                            <td align="left" style="white-space:normal;">
                                                                <h:outputText value="Nro. Documento de Formalizacion"/>
                                                            </td>
                                                            <td align="left">
                                                                <p:inputText value="#{rectificarInversion.invVO.invNroDocFormalizacion}" size="10"
                                                                     onkeyup="pasarMayuscula(this.value,this.id);"/>
                                                                 
                                                                <h:outputText style="color:red;" value="*"/>
                                                            </td>
                                                            <td align="left">
                                                                <h:outputText value="Fecha Emision"/>
                                                            </td>
                                                            <td align="left">
                                                                <p:calendar size="10" pattern="dd/MM/yyyy"
                                                                            value="#{rectificarInversion.invVO.invFechaEmisionDocFomalizacion}"
                                                                            locale="es"  maxdate="#{declararInversionMB.fechaactual}"
                                                                            onkeypress="return validarCalendario(event);"/>
                                                                 
                                                                <h:outputText style="color:red;" value="*"/>
                                                            </td>
                                                        </tr>
                                                         
                                                        <tr>
                                                            <td align="left">
                                                                <h:outputText value="Observaciones"/>
                                                            </td>
                                                            <td colspan="5" align="left">
                                                                <p:inputTextarea value="#{rectificarInversion.invVO.invNota}" style="width:400px !important;"/>
                                                                 
                                                                <h:outputText style="color:red;" value="*"/>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </p:fieldset>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                             
                            <tr>
                                <td align="center" colspan="2">
                                    <p:commandButton value="#{btn.btn_guardar}"
                                                     disabled="#{rectificarInversion.deshabilitadoxDeclaracionNoCargada}"
                                                     actionListener="#{rectificarInversion.guardarRectificarReconocimiento()}"
                                                     update=":form :form:tablaValorizaciones :form:mensaje"></p:commandButton>
                                     
                                    <p:commandButton value="#{btn.btn_salir}"
                                                     action="#{viewcontroller.redirect('ositran/principal.xhtml')}"></p:commandButton>
                                </td>
                            </tr>
                        </table>
                    </h:form>
                </div>
            </p:layoutUnit>
            <p:layoutUnit position="south" style="border:0px;width:98%" resizable="true" closable="true"
                          collapsible="true">
                <div align="center" style="font-size: 10px;font-weight: bold;">
                    #{msg.titulo_PIE_PAGINA}
                </div>
            </p:layoutUnit>
        </p:layout>
    </h:body>
</html>