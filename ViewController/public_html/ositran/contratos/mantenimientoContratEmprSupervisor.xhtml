<?xml version='1.0' encoding='windows-1252'?>
<!DOCTYPE html>
<f:view xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets">
    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:p="http://primefaces.org/ui">
        <h:head>
            <link href="#{request.contextPath}/css/style.css" rel="stylesheet" type="text/css"/>
              <script src="../../js/validaciones.js" type="text/javascript"></script>
        </h:head>
        <h:body>
            <f:event listener="#{manteContEmprSupervisora.validarSesion()}" type="postAddToView"></f:event>
            
            <f:event listener="#{manteContEmprSupervisora.cargarListaInfraestructuraTipo()}" type="postAddToView"></f:event>
             
            <f:event listener="#{manteContEmprSupervisora.cargarListaContratosEmpresaSupervisora()}"
                     type="postAddToView"></f:event>
             
            <f:event listener="#{manteContEmprSupervisora.cargarListaMoneda()}" type="postAddToView"></f:event>
             
            <h:form id="form">
                <p:growl id="mensaje" showDetail="true" life="1000"/>
                <p:layout fullPage="true" style="border:none">
                    <p:layoutUnit position="center" style="border:0px">
                        <ui:include src="/ositran/util/menuOpciones.xhtml"/>
                        <div align="center">
                            <div align="center">
                                <h4 style="color: #003194;">MANTENIMIENTO DE CONTRATO DE EMPRESA SUPERVISORA</h4>
                            </div>
                            <div align="center">
                                <table style="width:80% ;font-size:11px;">
                                    <tr>
                                        <td style="width: 5%;">Buscar :</td>
                                        <td style="width: 20%;">
                                            <p:inputMask size="30" id="empresaSupervisora" value ="#{manteContEmprSupervisora.empresaSupervisora}" maxlength="10" mask="9?999999999"/> 
                                            
                           
                                        </td>
                                        <td style="width: 8%;">
                                            <p:commandButton id="btnbuscar" image="ui-icon-search"
                                                             update=":form:dataTableEmprSupr"
                                                             actionListener="#{manteContEmprSupervisora.buscarConEmpSup()}"/>
                                             
                                            <p:tooltip id="toolTipFade" for="btnbuscar" styleClass="tool"
                                                       value="Buscar por Numero de contrato"/>
                                             
                                            <p:commandButton id="btnTodos"
                                                             actionListener="#{manteContEmprSupervisora.cargarTodo()}"
                                                             update=":form:dataTableEmprSupr"
                                                             image="ui-icon-arrowreturnthick-1-s"/>
                                             
                                            <p:tooltip styleClass="tool" id="toolTipFade1" for="btnTodos"
                                                       value="Ver lista completa de contrato de empresa de supervisora"/>
                                        </td>
                                        <td style="width: 15%;">Tipo de Infraestructura</td>
                                        <td>
                                            <p:selectOneMenu value="#{manteContEmprSupervisora.tipoInfraestructuraSeleccionada}">
                                                <f:selectItem itemLabel="-Seleccionar-" itemValue="0"/>
                                                <f:selectItems value="#{manteContEmprSupervisora.listaInfraestructuraTipo}"
                                                               var="tin" itemLabel="#{tin.tinNombre}"
                                                               itemValue="#{tin.tinId}"/>
                                                <p:ajax listener="#{manteContEmprSupervisora.buscarTipoInfraestructura()}"  update=":form:dataTableEmprSupr" event="valueChange" />
                                            </p:selectOneMenu>
                                        </td>
                                        <td align="right">
                                            <p:commandButton id="btnnuevo" value="Nuevo" 
                                                             image="ui-icon-circle-plus" styleClass="botones"
                                                             actionListener="#{manteContEmprSupervisora.limpiarCampos()}"
                                                             oncomplete="dialogRegConEmpSup.show()"
                                                             update=":form:dialogRegConEmpSup :form:stdfieldset :form:datosNombreEmpresaSupervisora :form:dContratoConcesion :form:datosCompromiso :form:datosContrato  "   />
                                             
                                            <p:tooltip styleClass="tool" id="toolTipFade2" for="btnnuevo"
                                                       value="Registrar contrato de empresa supervisora"/>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <br></br>
                            <div id="dataTable" align="center" style="width: 80%;">
                                <p:dataTable style="font-size:11px" id="dataTableEmprSupr" var="cEmpreSup"
                                             value="#{manteContEmprSupervisora.listaContratoSupervisora}" rows="10"
                                             paginator="true" paginatorPosition="bottom"
                                             paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="6,8,10" selectionMode="single"
                                             rowKey="#{cEmpreSup.cpsNroDeContrato}" rowIndexVar="rowIndex">
                                    <p:column headerText="N°" style="width:3%">
                                        <h:outputText value="#{rowIndex+1}" style="text-transform:uppercase;"/>
                                    </p:column>
                                    <p:column headerText="N° Contrato" style="width:25%;text-align:center;">
                                        <h:outputText value="#{cEmpreSup.cpsNroDeContrato}"/>
                                    </p:column>
                                    <p:column headerText="Empresa supervisora">
                                        <h:outputText value="#{cEmpreSup.nombreSupervisora}"/>
                                    </p:column>
                                    <p:column headerText="Tipo de infraestructura">
                                        <h:outputText value="#{cEmpreSup.nombreInfraestructura}"/>
                                    </p:column>
                                    <p:column headerText="Ver">
                                        <div align="center">
                                            <p:commandButton update=":form:dialogVerContEmpSup" image="ui-icon-search"
                                                             oncomplete="dialogVerContEmpSup.show()"
                                                             styleClass="controles" id="vercontrato"
                                                             action="#{manteContEmprSupervisora.cargarVer(cEmpreSup)}">
                                                                            
                                            </p:commandButton>
                                             
                                            <p:tooltip styleClass="tool" id="toolTipFade3" for="vercontrato"
                                                       value="Visualizar contrato de empresa supervisora"/>
                                        </div>
                                    </p:column>
                                    <p:column headerText="Modificar">
                                        <div align="center">
                                            <p:commandButton update=":form:popupeditar" styleClass="controles"
                                                             action="#{manteContEmprSupervisora.cargarEditar()}"
                                                             oncomplete="popupeditar.show()" image="ui-icon-pencil">
                                                <f:param id="idModificar" name="idModificar" value="#{cEmpreSup.cpsNroDeContrato}"/>                 
                                            </p:commandButton>
                                        </div>
                                    </p:column>
                                    <p:column headerText="Eliminar" id="columnEliminar">
                                        <div align="center">
                                            <p:commandButton update=":form:popupeliminar :form:codEliminar"
                                                             styleClass="controles"
                                                             actionListener="#{manteContEmprSupervisora.cargarEliminar()}"
                                                             oncomplete="popupeliminar.show()" image="ui-icon-trash">
                                                <f:param id="nroContrato" name="nroContrato"
                                                         value="#{cEmpreSup.cpsNroDeContrato}"/>
                                            </p:commandButton>
                                        </div>
                                    </p:column>
                                </p:dataTable>
                            </div>
                        </div>
                    </p:layoutUnit>
                    <h:inputHidden value="#{manteContEmprSupervisora.codigoEliminar}" id="codEliminar"/>
                </p:layout>
                <!-- REGISTRAR CONTRATO EMPRESA SUPERVISORA-->
                <p:dialog id="dialogRegConEmpSup" header="REGISTRAR" widgetVar="dialogRegConEmpSup" height="500px" width="1050px">
                    <div align="center">
                        <h5 class="titulo5">REGISTRAR CONTRATO PARA EMPRESA SUPERVISORA</h5>
                    </div>
                    <table style="font-size:11px;" >
                        <tr>
                            <td width="40">
                                <div style=" width: 500px">
                                    <p:fieldset style="width:90%" id="stdfieldset" styleClass="fielsetinterno" legend="#{leg.dsdt}">
                                        <table style="width:100% ;font-size:11px;" >
                                            <tr>
                                                <td align="left">
                                                    #{cam.numhr}
                                                    <p:inputMask style="width:60px" id="bnum" value="#{manteContEmprSupervisora.nrohr}" maxlength="4" mask="9?99"/>
                                                    <p:watermark for="bnum" value="Número"/>
                                                    <p:inputMask style="width:60px" id="bfecha" value="#{manteContEmprSupervisora.añohr}" maxlength="4" mask="9999"/>
                                                    <p:watermark for="bfecha" value="Año"/>
                                                    <p:commandButton image="ui-icon-search" actionListener="#{manteContEmprSupervisora.BuscarStd()}"
                                                                     update=":form:freg :form:asuntohr :form:mensaje"/>
                                                </td>
                                                <td align="left" >
                                                    #{cam.FR}
                                                    <p:inputText style="width:70px" id="freg" readonly="true" value="#{manteContEmprSupervisora.freg}"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" align="left">
                                                    #{cam.asu}
                                                    <p:inputTextarea style="width:85%" id="asuntohr" readonly="true"
                                                                     value="#{manteContEmprSupervisora.asuntohr}"/>
                                                </td>
                                            </tr>
                                        </table>
                                    </p:fieldset>
                                    <table>
                                        <tr>
                                            <td>
                                                <p:fieldset style="width:90%" styleClass="fielsetinterno" legend="Criterio de búsqueda">
                                                    <p:outputLabel value="Buscar Empresa Supervisora:"/>
                                                    <p:commandButton image="ui-icon-search"
                                                                     onclick="panelListaEmpresas.show()"
                                                                     actionListener="#{manteContEmprSupervisora.buscarEmpresaSup()}"
                                                                     update=":form:tablaEP"/>
                                                </p:fieldset>
                                            </td>
                                            <td>
                                                <p:fieldset style="width:90%" styleClass="fielsetinterno"
                                                            legend="Empresa supervisora"
                                                            id="datosNombreEmpresaSupervisora">
                                                    <p:outputLabel value="Nombre: "/>
                                                    <p:inputText value="#{manteContEmprSupervisora.nombreEmpresaSupervisora}"/>
                                                </p:fieldset>
                                            </td>
                                        </tr>
                                    </table>
                                    <p:fieldset style="width:90%" styleClass="fielsetinterno" id="busquedacontrato"
                                                legend="Criterio de Busqueda">
                                        <table style="margin-bottom:5px;font-size: 11px">
                                            <tr>
                                                <td align="left" colspan="4">
                                                    Buscar Contrato Concesion: 
                                                    <h:inputHidden value="#{manteContEmprSupervisora.contratoConcesion}"
                                                                   readonly="false" id="inputContrato"
                                                                   style="width:300px"/>
                                                    <p:commandButton id="searchContratos" image="ui-icon-search"
                                                                     update=":form:pListaContratos"
                                                                     oncomplete="pListaContratos.show()"
                                                                     actionListener="#{manteContEmprSupervisora.cargarListaContratos()}"/>
                                                    <p:tooltip id="tool" styleClass="tool" for="searchContratos"
                                                               value="Mostrar lista de contratos"/>
                                                </td>
                                            </tr>
                                        </table>
                                    </p:fieldset>
                                    <br></br>
                                    <p:fieldset style="width:90%" styleClass="fielsetinterno" legend="Datos Contrato Concesion"
                                                id="dContratoConcesion">
                                        <table>
                                            <tr>
                                                <td align="left">Concesion</td>
                                                <td>
                                                    <p:inputText style="width:200px" readonly="true"
                                                                 value="#{manteContEmprSupervisora.t_conce}"></p:inputText>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td align="left">Tipo Infraestructura</td>
                                                <td>
                                                    <p:inputText style="width:200px" readonly="true"
                                                                 value="#{manteContEmprSupervisora.t_tinfra}"></p:inputText>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td align="left">Modalidad Concesion</td>
                                                <td>
                                                    <p:inputText style="width:200px" readonly="true"
                                                                 value="#{manteContEmprSupervisora.t_modconc}"></p:inputText>
                                                </td>
                                            </tr>
                                             
                                            
                                        </table>
                                    </p:fieldset>
                                    <br></br>
                                     
                                    <p:fieldset style="width:90%" styleClass="fielsetinterno" id="datosCompromiso" legend="ETAPA CONCESIÓN">
                                        <table>
                                            <tr>
                                                <td colspan="1" align="left">#{cam.setapa}</td>
                                                <td colspan="3" align="left">
                                                    <p:selectOneMenu id="listaCompromiso"
                                                                     value="#{manteContEmprSupervisora.contratoCompromisoSeleccionado}">
                                                        <f:selectItem itemLabel="-Selecione-" itemValue="0"/>
                                                        <f:selectItems value="#{manteContEmprSupervisora.listaContratoCompromiso}"
                                                                       var="tip2" itemLabel="#{tip2.ccoPeriodo}"
                                                                       itemValue="#{tip2.ccoId}"/>
                                                        <p:ajax event="valueChange"
                                                                update=":form:datosCompromiso"
                                                                listener="#{manteContEmprSupervisora.cargarDatosCompromiso()}"/>
                                                    </p:selectOneMenu>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td align="left">Plazo:</td>
                                                <td align="left" colspan="3">
                                                    <p:inputText value="#{manteContEmprSupervisora.plazo}"
                                                                 readonly="true" size="10" />
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td align="left">Total:</td>
                                                <td align="left">
                                                    <p:inputText value="#{manteContEmprSupervisora.total}"
                                                                 readonly="true" size="10" />
                                                </td>
                                                <td align="left">Moneda:</td>
                                                <td align="left">
                                                    <p:inputText value="#{manteContEmprSupervisora.nombreMoneda}"
                                                                 readonly="true" size="10" />
                                                </td>
                                            </tr>
                                        </table>
                                    </p:fieldset>
                                </div>
                            </td>
                            
                            <td>
                                <div style="float: left; width: 500px;">
                                    <p:fieldset id="datosContrato" styleClass="fielsetinterno" legend="Datos del contrato">
                                        <table>
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Nro. de contrato"/>
                                                </td>
                                                <td colspan="3">
                                                    <p:inputText style="width:60px" value="#{manteContEmprSupervisora.cpsNroDeContrato}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Fecha de inicio del servicio"/>
                                                </td>
                                                <td colspan="3">
                                                    <p:calendar styleClass="calendario"  id="calendarFecIniContratoNew" value="#{manteContEmprSupervisora.cpsFechaInicio}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Fecha de suscripción"/>
                                                </td>
                                                <td>
                                                    <p:calendar styleClass="calendario"  id="calendarFecSuscripcionNew"  value="#{manteContEmprSupervisora.cpsFechaSuscripcion}" />
                                                </td>
                                                <td>
                                                    <p:outputLabel value="Plazo de contrato"/>
                                                </td>
                                                <td>
                                                    <p:inputText style="width:60px" value="#{manteContEmprSupervisora.cpsPlazoContrato}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Monto contratado"/>
                                                </td>
                                                <td>
                                                    <p:inputText style="width:60px" value="#{manteContEmprSupervisora.cpsMontoContratado}"/>
                                                </td>
                                                <td>
                                                    <p:outputLabel value="Moneda"/>
                                                </td>
                                                <td>
                                                    <p:selectOneMenu value="#{manteContEmprSupervisora.monedaSeleccionada}">
                                                        <f:selectItem itemLabel="-Seleccionar-" itemValue="0"/>
                                                        <f:selectItems value="#{manteContEmprSupervisora.listaMoneda}"
                                                                       var="mon" itemLabel="#{mon.monNombre}"
                                                                       itemValue="#{mon.monId}"/>
                                                    </p:selectOneMenu>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Adelanto otorgado"/>
                                                </td>
                                                <td>
                                                    <p:inputText style="width:60px" value="#{manteContEmprSupervisora.cpsAdelantoOtorgado}"/>
                                                </td>
                                                <td>
                                                    <p:outputLabel value="Fecha adelanto"/>
                                                </td>
                                                <td>
                                                    <p:calendar styleClass="calendario" id="calendarFechaAdelantoNew" value="#{manteContEmprSupervisora.cpsFechaAdelanto}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Referencia a penalidades"/>
                                                </td>
                                                <td colspan="3">
                                                    <p:inputTextarea style="width:80%" onkeyup="pasarMayuscula(this.value,this.id)"                                                
                                                                     value="#{manteContEmprSupervisora.cpsPenalidades}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel  value="Referencia a causales de caducidad"/>
                                                </td>
                                                <td colspan="3">
                                                    <p:inputTextarea style="width:80%" onkeyup="pasarMayuscula(this.value,this.id)" value="#{manteContEmprSupervisora.cpsCaducidad}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Garantias a favor de OSITRAN"/>
                                                </td>
                                                <td colspan="3">
                                                    <p:inputTextarea style="width:80%" onkeyup="pasarMayuscula(this.value,this.id)" value="#{manteContEmprSupervisora.cpsGarantias}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Adjuntar contrato"/>
                                                </td>
                                                <td colspan="2">
                                                    <p:inputText id="docEntrega" style="width:80% !important;"
                                                                 onblur="if (this.value != '') this.value='';"
                                                                 disabled="#{not empty manteContEmprSupervisora.contratoSupervisoraVO.inputStreamNuevaEntrega}"
                                                                 value="#{manteContEmprSupervisora.cenDocumentoFisico}"/>
                                                </td>
                                                <td>
                                                    <p:fileUpload style="width:70px" fileUploadListener="#{manteContEmprSupervisora.subirArchivoEntrega}"
                                                                  update="docEntrega" label="PDF" auto="true"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="4">
                                                <p:commandButton value="Agregar Adenda"
                                                                 update=":form:mensaje"
                                                                 actionListener="#{manteContEmprSupervisora.tAdenda()}"/>
                                                </td>
                                            </tr>
                                            <tr>
                                            <td colspan="4">
                                            <p:dataTable rowIndexVar="rowId" emptyMessage="NO SE ENCONTRARON DATOS"
                                                         style="font-size:11px" id="tAdenda" var="tAdenda"
                                                         value="#{manteContEmprSupervisora.listaAdenda}">
                                            <p:column headerText="Nro.">
                                                        <h:outputText value="#{tAdenda.cpsNroDeContrato}"/>
                                                    </p:column>
                                                    <p:column headerText="Fecha" style="width:15px">
                                                        <p:calendar styleClass="calendario"  value="#{tAdenda.csaFecha}" />
                                                    </p:column>
                                                    <p:column headerText="Monto" style="width:15px">
                                                        <h:outputText value="#{tAdenda.csaMonto}"/>
                                                    </p:column>
                                                    <p:column headerText="Moneda" style="width:15px">
                                                        <h:outputText value="#{tAdenda.nombreMoneda}"/>
                                                    </p:column>
                                                    <p:column headerText="Plazo" style="width:15px">
                                                        <h:outputText value="#{tAdenda.csaPlazo}"/>
                                                    </p:column>
                                                    <p:column headerText="Ver" style="width:15px">
                                                        <p:commandButton styleClass="controles"
                                                                         image="ui-icon-search"/>
                                                    </p:column>
                                                    <p:column headerText="Eliminar" style="width:15px">
                                                        <div align="center">
                                                            <p:commandButton    update=":form:tAdenda"
                                                                                styleClass="controles"
                                                                                actionListener="#{manteContEmprSupervisora.quitarLista()}"
                                                                                image="ui-icon-trash">
                                                                    <f:param id="indexLista" name="indexLista" value="#{rowId}"/>
                                                            </p:commandButton>
                                                        </div>
                                                    </p:column>
                                            
                                            
                                            </p:dataTable>
                                            </td>
                                            </tr>
                                        </table>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                 
                                    </p:fieldset>
                                </div>
                            </td>
                        </tr>
                    </table>
                    <div id="botones" align="center">
                        <p:commandButton value="Guardar" styleClass="botones"
                                         update=":form:dataTableEmprSupr :form:mensaje"
                                         action="#{manteContEmprSupervisora.grabar()}"
                                         style="width:70px; font-size: 10px"/>
                    </div>
                </p:dialog>
                <!-- pdialog adenda -->
                <p:dialog id="agregarAdenda" widgetVar="agregarAdenda" header="Agregar Adenda" modal="true">
                <table style="font-size:11px;">
                                        
                    <tr>
                        <td>plazo:</td>
                        <td><p:inputText value="#{manteContEmprSupervisora.adendaPlazo}"/>
                        </td>
                        <td>
                        <p:selectBooleanCheckbox value="#{manteContEmprSupervisora.dia}"/>
                        <h:outputText style="font-size:9px" value="Día  "/>
                        
                        <p:selectBooleanCheckbox value="#{manteContEmprSupervisora.mes}"/>
                        <h:outputText style="font-size:9px" value="Mes  "/>
                        
                        <p:selectBooleanCheckbox value="#{manteContEmprSupervisora.año}"/>
                        <h:outputText style="font-size:9px" value="Año  "/>
                        </td>
                    </tr>
                    
                 
                    <tr>
                        <td>Monto:</td>
                        <td colspan="2"> <p:inputText value="#{manteContEmprSupervisora.adendaMonto}"/></td>
                    </tr>
                    <tr>
                        <td>Moneda</td>
                        <td colspan="2" >
                            <p:selectOneMenu value="#{manteContEmprSupervisora.monedaSeleccionada1}">
                                                        <f:selectItem itemLabel="-Seleccionar-" itemValue="0"/>
                                                        <f:selectItems value="#{manteContEmprSupervisora.listaMoneda1}"
                                                                       var="mon" itemLabel="#{mon.monNombre}"
                                                                       itemValue="#{mon.monId}"/>
                            </p:selectOneMenu>
                        </td>
                    </tr>
                    
                    <tr>
                        <td>Fecha:</td>
                        <td colspan="2"> <p:calendar styleClass="calendario"  value="#{manteContEmprSupervisora.adendaFecha}"/>
                        </td>
                    </tr>
                    
                    <tr>
                        <td>Adjuntar PDF:</td>
                        <td>
                        <p:inputText id="adendaEntrega" style="width:90% !important;"
                                    onblur="if (this.value != '') this.value='';"
                                    value="#{manteContEmprSupervisora.contratoSupervisoraAdendaVO.cenDocumentoFisicoA}"/>
                        </td>
                        <td align="center">
                        <p:fileUpload fileUploadListener="#{manteContEmprSupervisora.subirAdendaEntrega}"
                                      update="adendaEntrega" label="PDF" auto="true" style="width:70px"/>
                        </td>
                    </tr>
                    
                    <tr>
                        <td colspan="3" align="center">
                        <p:commandButton value="Guardar"
                        update=":form:tAdenda :form:mensaje"
                        actionListener="#{manteContEmprSupervisora.guardarTabla()}"/>
                        <p:commandButton value="Salir" onclick="agregarAdenda.hide()" />
                        </td>
                    </tr>
                </table>
                </p:dialog>
                <!-- pdialog lista y busqueda de contrato concesion-->
                <p:dialog width="40%" header="Buscar Contrato de Concesion" widgetVar="pListaContratos"
                          id="pListaContratos" resizable="false" style="text-align:center;">
                    <p:dataTable paginatorPosition="bottom" rows="10" emptyMessage="NO SE ENCONTRARON DATOS"
                                 paginator="true" rowsPerPageTemplate="6,8,10" style="font-size:11px"
                                 id="tListaContrato" var="lContrato" value="#{manteContEmprSupervisora.listaContratos}">
                        <p:column headerText="ID" style="width:5px">
                            <h:outputText value="#{lContrato.conId}"/>
                        </p:column>
                        <p:column headerText="Nombre" style="width:50px">
                            <h:outputText value="#{lContrato.nombreConcesion}"/>
                        </p:column>
                        <p:column headerText="Elegir" style="width:5px">
                            <div align="center">
                                <p:commandButton oncomplete="pListaContratos.hide()"
                                                 actionListener="#{manteContEmprSupervisora.elegirContrato(lContrato)}"
                                                 image="ui-icon-circle-check" style="width:22px;height:22px"
                                                 update=":form:dContratoConcesion :form:dContratoConcesionE :form:inputContrato :form:datosCompromiso :form:datosCompromisoE"></p:commandButton>
                            </div>
                        </p:column>
                    </p:dataTable>
                </p:dialog>
                
                <!-- EDITAR pdialog lista y busqueda de contrato concesion-->
                <p:dialog width="40%" header="Editar Buscar Contrato de Concesion" widgetVar="pListaContratosE"
                          id="pListaContratosE" resizable="false" style="text-align:center;">
                    <p:dataTable paginatorPosition="bottom" rows="10" emptyMessage="NO SE ENCONTRARON DATOS"
                                 paginator="true" rowsPerPageTemplate="6,8,10" style="font-size:11px"
                                 id="tListaContratoE" var="lContratoE" value="#{manteContEmprSupervisora.listaContratosE}">
                        <p:column headerText="ID" style="width:5px">
                            <h:outputText value="#{lContratoE.conId}"/>
                        </p:column>
                        <p:column headerText="Nombre" style="width:50px">
                            <h:outputText value="#{lContratoE.nombreConcesion}"/>
                        </p:column>
                        <p:column headerText="Elegir" style="width:5px">
                            <div align="center">
                                <p:commandButton oncomplete="pListaContratosE.hide()"
                                                 actionListener="#{manteContEmprSupervisora.elegirContratoE(lContratoE)}"
                                                 image="ui-icon-circle-check" style="width:22px;height:22px"
                                                 update=":form:dContratoConcesionE :form:inputContratoE :form:datosCompromisoE ">
                                </p:commandButton>
                            </div>
                        </p:column>
                    </p:dataTable>
                </p:dialog>
                
                <!-- BUSCAR EMPRESA SUPERVISORA-->
                <p:dialog width="40%" header="Lista Empresa Supervisora" widgetVar="panelListaEmpresas"
                          id="panelListaEmpresas" style="text-align:center;">
                    <p:dataTable paginatorPosition="bottom" rows="10" emptyMessage="NO SE ENCONTRARON DATOS"
                                 paginator="true" rowsPerPageTemplate="6,8,10" style="font-size:11px" id="tablaEP"
                                 var="empSup" value="#{manteContEmprSupervisora.listaEmpresaSup}">
                        <p:column headerText="ID" style="width:5px">
                            <h:outputText value="#{empSup.supId}"/>
                        </p:column>
                        <p:column headerText="Nombre" style="width:50px">
                            <h:outputText value="#{empSup.supNombre}"/>
                        </p:column>
                        <p:column headerText="Elegir" style="width:5px">
                            <div align="center">
                                <p:commandButton oncomplete="panelListaEmpresas.hide()"
                                                 actionListener="#{manteContEmprSupervisora.elegirEmpresa(empSup)}"
                                                 update=":form:datosNombreEmpresaSupervisora :form:datosNombreEmpresaSupervisoraE" value="Elegir"/>
                            </div>
                        </p:column>
                    </p:dataTable>
                </p:dialog>
                
                <!-- EDITAR BUSCAR EMPRESA SUPERVISORA-->
                <p:dialog width="40%" header="EDITAR Lista Empresa Supervisora" widgetVar="panelListaEmpresasE"
                          id="panelListaEmpresasE" style="text-align:center;">
                    <p:dataTable paginatorPosition="bottom" rows="10" emptyMessage="NO SE ENCONTRARON DATOS"
                                 paginator="true" rowsPerPageTemplate="6,8,10" style="font-size:11px" id="tablaEPE"
                                 var="empSupE" value="#{manteContEmprSupervisora.listaEmpresaSupE}">
                        <p:column headerText="ID" style="width:5px">
                            <h:outputText value="#{empSupE.supId}"/>
                        </p:column>
                        <p:column headerText="Nombre" style="width:50px">
                            <h:outputText value="#{empSupE.supNombre}"/>
                        </p:column>
                        <p:column headerText="Elegir" style="width:5px">
                            <div align="center">
                                <p:commandButton oncomplete="panelListaEmpresasE.hide()"
                                                 actionListener="#{manteContEmprSupervisora.elegirEmpresaE(empSupE)}"
                                                 update=":form:datosNombreEmpresaSupervisoraE" value="Elegir"/>
                            </div>
                        </p:column>
                    </p:dataTable>
                </p:dialog>
                <!-- VER CONTRATO EMPRESA SUPERVISORA-->
                <p:dialog id="dialogVerContEmpSup" header="Contrato de Empresa Supervisora"
                          widgetVar="dialogVerContEmpSup" modal="true" resizable="false" height="400px" width="700px">
                        <div align="center">
                        <h5 class="titulo5">CONTRATO DE EMPRESA SUPERVISORA</h5>
                    </div>
                        <div align="center">  
                    <table style="margin-bottom:5px;font-size: 11px;text-align:center;height: 300px;width: 600px;">
                           
                           <tr>
                            <td align="left" width="30%"><b>NUMERO DE CONTRATO:</b></td>
                            <td align="left" width="20%">
                                <h:outputText value="#{manteContEmprSupervisora.contratoE}"/>
                            </td>
                            <td align="left" width="30%"><b>TIPO INFRAESTRUCTURA:</b></td>
                            <td align="left" width="20%">
                                <h:outputText value="#{manteContEmprSupervisora.t_tinfraE}"/>
                            </td>
                           </tr>
                           
                        <tr>
                            <td align="left" width="30%"><b>NUMERO DE HR:</b></td>
                            <td align="left" width="20%">
                                <h:outputText value="#{manteContEmprSupervisora.nrohrE}"/>
                            </td>
                            <td align="left" width="30%"><b>AÑO DE HR:</b></td>
                            <td align="left" width="20%">
                                <h:outputText value="#{manteContEmprSupervisora.añohrE}"/>
                            </td>
                        </tr>
                         
                         <tr>
                            
                            <td align="left" width="30%"><b>FECHA REGISTRO HR:</b></td>
                            <td align="left" width="20%">
                                <h:outputText value="#{manteContEmprSupervisora.fregE}"/>
                            </td>
                            <td align="left" width="30%"><b>ASUNTO HR:</b></td>
                            <td align="left" width="20%">
                                <h:outputText value="#{manteContEmprSupervisora.asuntohrE}" />
                            </td>
                        </tr>
                        <tr>
                            <td align="left" width="30%"><b>FECHA DE INICIO:</b></td>
                            <td align="left" width="20%">
                                <h:outputText value="#{manteContEmprSupervisora.fechaInicioE}"/>
                            </td>
                            <td align="left" width="30%"><b>FECHA SUSCRIPCION:</b></td>
                            <td align="left" width="20%">
                                <h:outputText value="#{manteContEmprSupervisora.fechaSuscripcionE}"/>
                            </td>
                        </tr>
                         
                        <tr>
                            <td align="left" width="30%"><b>PLAZO DE CONTRATO:</b></td>
                            <td align="left" width="20%">
                                <h:outputText value="#{manteContEmprSupervisora.plazocontrE}"/>
                            </td>
                            <td align="left" width="30%"><b>MONTO CONTRATADO:</b></td>
                            <td align="left" width="20%">
                                <h:outputText value="#{manteContEmprSupervisora.montocontrE}"/>
                            </td>
                        </tr>
                         
                        <tr>
                            <td align="left" width="30%"><b>ADELANTO OTORGADO:</b></td>
                            <td align="left" width="20%">
                                <h:outputText value="#{manteContEmprSupervisora.adelantoE}"/>
                            </td>
                            <td align="left" width="30%"><b>FECHA DE ADELANTO:</b></td>
                            <td align="left" width="20%">
                                <h:outputText value="#{manteContEmprSupervisora.fechaAdelantoE}"/>
                            </td>
                        </tr>
                        <tr>
                        <td align="left" width="30%"><b>PENALIDADES:</b></td>
                            <td align="left" colspan="3" >
                                <h:outputText value="#{manteContEmprSupervisora.cpsPenalidadesE}"></h:outputText>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="left" width="30%"><b>CADUCIDAD:</b></td>
                            <td align="left" colspan="3">
                                <h:outputText value="#{manteContEmprSupervisora.cpsCaducidadE}"/>
                            </td>
                        </tr>
                         
                        <tr>
                            <td align="left" width="30%"><b>GARANTIAS:</b></td>
                            <td align="left" colspan="3">
                                <h:outputText value="#{manteContEmprSupervisora.cpsGarantiasE}"></h:outputText>
                            </td>
                        </tr>
                        <tr>
                        <td align="left" width="30%"><b>CONTRATO RUTA:</b></td>
                        <td align="left" colspan="3">
                                <h:outputText ></h:outputText>
                            </td>
                        </tr> 
                        <tr>
                        <td colspan="4" align="center">
                            <p:commandButton onclick="dialogVerContEmpSup.hide()" value="Aceptar"/>
                        </td>
                        </tr>
                        </table>
                        </div>
                </p:dialog>
                
                <!-- pdialog para boton eliminar -->
                <p:dialog id="popupeliminar" widgetVar="popupeliminar" header="Confirmar" modal="true">
                    <table style="font-size: 11px">
                        <tr>
                            <td colspan="2">
                                Eliminar el numero de contrato: "
                                #{manteContEmprSupervisora.codigoEliminar}"
                            </td>
                        </tr>
                         
                        <tr>
                            <td align="right">
                                <p:commandButton update=":form:dataTableEmprSupr :form:mensaje"
                                                 actionListener="#{manteContEmprSupervisora.eliminar}" value="Eliminar"
                                                 oncomplete="popupeliminar.hide()"/>
                            </td>
                            <td align="left">
                                <p:commandButton value="Cancelar" onclick="popupeliminar.hide()"/>
                            </td>
                        </tr>
                    </table>
                </p:dialog>
                <!-- MODIFICAR CONTRATO EMPRESA SUPERVISORA-->
               <p:dialog id="popupeditar" header="MODIFICAR" widgetVar="popupeditar" height="500px" width="1050px">
                    <div align="center">
                        <h5 class="titulo5">MODIFICAR CONTRATO PARA EMPRESA SUPERVISORA</h5>
                    </div>
                    <table style="font-size:11px;" >
                        <tr>
                            <td width="40">
                                <div style=" width: 500px">
                                    <p:fieldset style="width:90%" id="fieldStd" styleClass="fielsetinterno" legend="#{leg.dsdt}">
                                        <table style="width:100% ;font-size:11px;" >
                                            <tr>
                                                <td align="left">
                                                    #{cam.numhr}
                                                    <p:inputText style="width:60px" value="#{manteContEmprSupervisora.nrohrE}"/>
                                                    <p:watermark for="bnum" value="Número"/>
                                                    <p:inputText style="width:60px" value="#{manteContEmprSupervisora.añohrE}"/>
                                                    <p:watermark for="bfecha" value="Año"/>
                                                    <p:commandButton image="ui-icon-search" actionListener="#{manteContEmprSupervisora.BuscarStdE()}"
                                                                     update=":form:fregE :form:asuntohrE"/>
                                                </td>
                                                <td align="left" >
                                                    #{cam.FR}
                                                    <p:inputText style="width:70px" id="fregE" readonly="true" value="#{manteContEmprSupervisora.fregE}"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" align="left">
                                                    #{cam.asu}
                                                    <p:inputTextarea style="width:85%" id="asuntohrE" readonly="true"
                                                                     value="#{manteContEmprSupervisora.asuntohrE}"/>
                                                </td>
                                            </tr>
                                        </table>
                                    </p:fieldset>
                                    <table>
                                        <tr>
                                            <td>
                                                <p:fieldset style="width:90%" styleClass="fielsetinterno" legend="Criterio de búsqueda">
                                                    <p:outputLabel value="Buscar Empresa Supervisora:"/>
                                                    <p:commandButton image="ui-icon-search"
                                                                     onclick="panelListaEmpresasE.show()"
                                                                     actionListener="#{manteContEmprSupervisora.buscarEmpresaSupE()}"
                                                                     update=":form:tablaEPE"
                                                                     />
                                                </p:fieldset>
                                            </td>
                                            <td>
                                                <p:fieldset style="width:90%" styleClass="fielsetinterno"
                                                            legend="Empresa supervisora"
                                                            id="datosNombreEmpresaSupervisoraE">
                                                    <p:outputLabel value="Nombre: "/>
                                                    <p:inputText value="#{manteContEmprSupervisora.nombreEmpresaSupervisora}" readonly="true"/>
                                                </p:fieldset>
                                            </td>
                                        </tr>
                                    </table>
                                    <p:fieldset style="width:90%" styleClass="fielsetinterno" id="busquedacontratoE"
                                                legend="Criterio de Busqueda">
                                        <table style="margin-bottom:5px;font-size: 11px">
                                            <tr>
                                                <td align="left" colspan="4">
                                                    Buscar Contrato Concesion: 
                                                    <h:inputHidden value="#{manteContEmprSupervisora.contratoConcesion}"
                                                                   readonly="false" id="inputContratoE" style="width:300px"/>
                                                    <p:commandButton id="searchContratosE" image="ui-icon-search"
                                                                     update=":form:pListaContratosE"
                                                                     oncomplete="pListaContratosE.show()"
                                                                     actionListener="#{manteContEmprSupervisora.cargarListaContratosE()}"/>
                                                    <p:tooltip id="toolE" styleClass="tool" for="searchContratosE"
                                                               value="Mostrar lista de contratos"/>
                                                </td>
                                            </tr>
                                        </table>
                                    </p:fieldset>
                                     
                                    <br></br>
                                     
                                    <p:fieldset style="width:90%" styleClass="fielsetinterno" legend="Datos Contrato Concesion"
                                                id="dContratoConcesionE">
                                        <table>
                                            <tr>
                                                <td align="left">Concesion</td>
                                                <td>
                                                    <p:inputText style="width:200px" readonly="true"
                                                                 value="#{manteContEmprSupervisora.t_conce}"></p:inputText>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td align="left">Tipo Infraestructura</td>
                                                <td>
                                                    <p:inputText style="width:200px" readonly="true"
                                                                 value="#{manteContEmprSupervisora.t_tinfra}"></p:inputText>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td align="left">Modalidad Concesion</td>
                                                <td>
                                                    <p:inputText style="width:200px" readonly="true"
                                                                 value="#{manteContEmprSupervisora.t_modconc}"></p:inputText>
                                                </td>
                                            </tr>
                                             
                                            
                                             
                                            
                                        </table>
                                    </p:fieldset>
                                     
                                    <br></br>
                                     
                                    <p:fieldset style="width:90%" styleClass="fielsetinterno" id="datosCompromisoE" legend="ETAPA CONCESIÓN">
                                        <table>
                                            <tr>
                                                <td colspan="1" align="left">#{cam.setapa}</td>
                                                <td colspan="3" align="left">
                                                    <p:selectOneMenu id="listaCompromisoE"
                                                                     value="#{manteContEmprSupervisora.contratoCompromisoSeleccionadoE}">
                                                        <f:selectItem itemLabel="-Selecione-" itemValue="0"/>
                                                        <f:selectItems value="#{manteContEmprSupervisora.listaContratoCompromisoE}"
                                                                       var="tip2" itemLabel="#{tip2.ccoPeriodo}"
                                                                       itemValue="#{tip2.ccoId}"/>
                                                        <p:ajax event="valueChange"
                                                                update=":form:datosCompromisoE"
                                                                listener="#{manteContEmprSupervisora.cargarDatosCompromisoE()}"/>
                                                    </p:selectOneMenu>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td align="left">Plazo:</td>
                                                <td align="left" colspan="3">
                                                    <p:inputText value="#{manteContEmprSupervisora.plazo}" 
                                                                 readonly="true" size="10" />
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td align="left">Total:</td>
                                                <td align="left">
                                                    <p:inputText value="#{manteContEmprSupervisora.total}"
                                                                 readonly="true" size="10" />
                                                </td>
                                                <td align="left">Moneda:</td>
                                                <td align="left">
                                                    <p:inputText value="#{manteContEmprSupervisora.nombreMoneda}"
                                                                 readonly="true" size="10" />
                                                </td>
                                            </tr>
                                        </table>
                                    </p:fieldset>
                                </div>
                            </td>
                            
                            <td>
                                <div style="float: left; width: 500px;">
                                    <p:fieldset styleClass="fielsetinterno" legend="Datos del contrato">
                                        <table>
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Nro. de contrato"/>
                                                </td>
                                                <td colspan="3">
                                                    <p:inputText readonly="true"  style="width:60px" value="#{manteContEmprSupervisora.contratoE}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Fecha de inicio del servicio"/>
                                                </td>
                                                <td colspan="3">
                                                    <p:calendar styleClass="calendario"  id="calendarFecIniContratoNewE" value="#{manteContEmprSupervisora.fechaInicioE}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Fecha de suscripción"/>
                                                </td>
                                                <td>
                                                    <p:calendar styleClass="calendario"  id="calendarFecSuscripcionNewE"  value="#{manteContEmprSupervisora.fechaSuscripcionE}" />
                                                </td>
                                                <td>
                                                    <p:outputLabel value="Plazo de contrato"/>
                                                </td>
                                                <td>
                                                    <p:inputText style="width:60px" value="#{manteContEmprSupervisora.plazocontrE}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Monto contratado"/>
                                                </td>
                                                <td>
                                                    <p:inputText style="width:60px" value="#{manteContEmprSupervisora.montocontrE}"/>
                                                </td>
                                                <td>
                                                    <p:outputLabel value="Moneda"/>
                                                </td>
                                                <td>
                                                    <p:selectOneMenu value="#{manteContEmprSupervisora.monedaSeleccionada}">
                                                        <f:selectItem itemLabel="-Seleccionar-" itemValue="0"/>
                                                        <f:selectItems value="#{manteContEmprSupervisora.listaMoneda}"
                                                                       var="mon" itemLabel="#{mon.monNombre}"
                                                                       itemValue="#{mon.monId}"/>
                                                    </p:selectOneMenu>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Adelanto otorgado"/>
                                                </td>
                                                <td>
                                                    <p:inputText style="width:60px" value="#{manteContEmprSupervisora.adelantoE}"/>
                                                </td>
                                                <td>
                                                    <p:outputLabel value="Fecha adelanto"/>
                                                </td>
                                                <td>
                                                    <p:calendar styleClass="calendario" id="calendarFechaAdelantoNewE" value="#{manteContEmprSupervisora.fechaAdelantoE}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Referencia a penalidades"/>
                                                </td>
                                                <td colspan="3">
                                                    <p:inputTextarea style="width:80%"                                                
                                                                     value="#{manteContEmprSupervisora.cpsPenalidadesE}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel  value="Referencia a causales de caducidad"/>
                                                </td>
                                                <td colspan="3">
                                                    <p:inputTextarea style="width:80%" value="#{manteContEmprSupervisora.cpsCaducidadE}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Garantias a favor de OSITRAN"/>
                                                </td>
                                                <td colspan="3">
                                                    <p:inputTextarea style="width:80%" value="#{manteContEmprSupervisora.cpsGarantiasE}"/>
                                                </td>
                                            </tr>
                                             
                                            <tr>
                                                <td>
                                                    <p:outputLabel value="Adjuntar contrato"/>
                                                </td>
                                                <td colspan="2">
                                                    <p:inputText id="docEntregaE" style="width:80% !important;"
                                                                 onblur="if (this.value != '') this.value='';"
                                                                 disabled="#{not empty manteContEmprSupervisora.contratoSupervisoraVO.inputStreamNuevaEntrega}"
                                                                 value="#{manteContEmprSupervisora.cenDocumentoFisico}"/>
                                                </td>
                                                <td>
                                                    <p:fileUpload style="width:70px" fileUploadListener="#{manteContEmprSupervisora.subirArchivoEntrega}"
                                                                  update="docEntrega" label="PDF" auto="true"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="4">
                                                <p:commandButton value="Agregar Adenda"
                                                                 update=":form:mensaje"
                                                                 actionListener="#{manteContEmprSupervisora.tAdenda()}"/>
                                                </td>
                                            </tr>
                                            <tr>
                                            <td colspan="4">
                                            <p:dataTable rowIndexVar="rowId" emptyMessage="NO SE ENCONTRARON DATOS"
                                                         style="font-size:11px" id="tAdendaE" var="tAdendaE"
                                                         value="#{manteContEmprSupervisora.listaAdenda1}">
                                            <p:column headerText="Nro.">
                                                        <h:outputText value="#{tAdendaE.cpsNroDeContrato}"/>
                                                    </p:column>
                                                    <p:column headerText="Fecha" style="width:15px">
                                                        <p:calendar styleClass="calendario"  value="#{tAdendaE.csaFecha}" />
                                                    </p:column>
                                                    <p:column headerText="Monto" style="width:15px">
                                                        <h:outputText value="#{tAdendaE.csaMonto}"/>
                                                    </p:column>
                                                    <p:column headerText="Moneda" style="width:15px">
                                                        <h:outputText value="#{tAdendaE.nombreMoneda}"/>
                                                    </p:column>
                                                    <p:column headerText="Plazo" style="width:15px">
                                                        <h:outputText value="#{tAdendaE.csaPlazo}"/>
                                                    </p:column>
                                                    
                                                    <p:column headerText="Eliminar" style="width:15px">
                                                        <div align="center">
                                                            <p:commandButton    update=":form:tAdenda"
                                                                                styleClass="controles"
                                                                                actionListener="#{manteContEmprSupervisora.quitarLista()}"
                                                                                image="ui-icon-trash">
                                                                    <f:param id="indexLista" name="indexLista" value="#{rowId}"/>
                                                            </p:commandButton>
                                                        </div>
                                                    </p:column>
                                            
                                            
                                            </p:dataTable>
                                            </td>
                                            </tr>
                                        </table>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                      
                                    </p:fieldset>
                                </div>
                            </td>
                        </tr>
                    </table>
                    <div id="botones" align="center">
                        <p:commandButton update=":form:dataTableEmprSupr :form:mensaje" oncomplete="popupeditar.hide()"
                                         action="#{manteContEmprSupervisora.editar()}" style="width:70px; font-size: 10px"
                                         value="#{btn.btn_modificar}"/>
                         
                        <p:commandButton value="#{btn.btn_salir}" oncomplete="popupeditar.hide()" style="width:70px; font-size: 10px"/>
                    </div>
                </p:dialog>
                
            </h:form>
        </h:body>
    </html>
</f:view>