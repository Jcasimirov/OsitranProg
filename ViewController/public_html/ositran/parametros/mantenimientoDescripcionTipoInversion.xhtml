<?xml version='1.0' encoding='windows-1252'?>
<!DOCTYPE html>
<f:view xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets">
    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:p="http://primefaces.org/ui">

<h:head>
        <link href="#{request.contextPath}/css/diseño.css" rel="stylesheet" type="text/css"/>
</h:head>
<h:body>
        
        <f:event listener="#{descripcionInversionMB.cargarListaInversion}" type="postAddToView"></f:event>
        <f:event listener="#{descripcionInversionMB.cargarListaInversionDescripcion}" type="postAddToView"></f:event>
          
    <h:form id="form" >
        <p:growl id="mensaje" showDetail="true"  life="10000" />
    <p:layout fullPage="true" style="border:none" >
        <p:layoutUnit position="center"  style="border:0px"> 
                <ui:include src="/ositran/util/menu.xhtml"/>
                <div align="center">
                <h3 style="color:Black;font-weight:bold;font-family: sans-serif;" >DESCRIPCION TIPO DE INVERSION</h3>           
                <div style="width:60%" align="center">
            <div align="left" style="font-size: 11px">
                <table width="100%">
                    <tr>    
                        <td align="left"><p:commandButton image="ui-icon-circle-plus"  onclick="insertarDesc.show()" value=" Nueva Descripcion" /></td> 
                    </tr>
                </table>			
            </div>
                <br></br>                     
                    <p:dataTable style="font-size:11px;"  id="tabla" var="inversionDes" 
                            value="#{descripcionInversionMB.listaInversionDescripcion}"  >
                              <p:column headerText="ID">
                                <h:outputText value="#{inversionDes.itdId}" />
                             </p:column>
                             <p:column headerText="Nombre">
                                <h:outputText value="#{inversionDes.itdNombre}" />
                            </p:column>
                             <p:column headerText="Descripcion">
                                <h:outputText value="#{inversionDes.itdDescripcion}" />
                            </p:column>                         
                             <p:column headerText="Usuario Registro">
                                <h:outputText value="#{inversionDes.itdUsuarioAlta}" />
                            </p:column> 
                             <p:column headerText="Creacion:">
                                <h:outputText value="#{inversionDes.itdFechaAlta}">
                                    <f:convertDateTime pattern="MM/dd/yyyy" />
                                </h:outputText>
                            </p:column> 
                             <p:column headerText="Modificacion:">
                                <h:outputText value="#{inversionDes.itdFechaCambio}" >
                                    <f:convertDateTime pattern="MM/dd/yyyy" />
                                </h:outputText>
                            </p:column> 
                             <p:column headerText="Edi">
                                <p:commandButton  image="ui-icon-document" update=":form:editarPanel" oncomplete="editarPanel.show()" actionListener="#{descripcionInversionMB.cargarEditar(inversionDes)}"    style="width:25px;height:25px" />
                            </p:column>
                             <p:column headerText="Eli">
                                <p:commandButton update=":form:codEliminar"  actionListener="#{descripcionInversionMB.cargarEliminar(inversionDes.itdId)}"  oncomplete="confirEliminar.show()"  image="ui-icon-closethick" style="width:25px;height:25px" />
                            </p:column>
                        </p:dataTable>
                    </div>   
                </div>
        </p:layoutUnit>
        <p:layoutUnit position="south"  style="border:0px;width:98%"  resizable="true" closable="true" collapsible="true">
          <div align="center" style="font-size: 10px;font-weight: bold;">Proyecto Ositran-Developer Por AsisTP-2015</div>
        </p:layoutUnit>
       <h:inputHidden value="#{descripcionInversionMB.codigoInversionDescripcion}" id="codEliminar" />
       </p:layout>
             <p:dialog header="Registrar" widgetVar="insertarDesc"  modal="true" style="text-align:center;">
	 	<table  style="margin-bottom:5px;font-size:11px;text-align:center">
	 		<tr>
	 			<td align="right">Selecione tipo Inversion:</td>
	 			<td align="left">
                                        <p:selectOneMenu value="#{descripcionInversionMB.codigoInversion}" style="width:100%">
                                                            <f:selectItem 
									itemLabel="-Seleccionar-" itemValue="0" />
                                                            <f:selectItems value="#{descripcionInversionMB.listTipoInversion}" var="tip"
                                                                itemLabel="#{tip.tivDescripcion}" itemValue="#{tip.tivId}" />
                                        </p:selectOneMenu>                              
                                </td>
	 		</tr>
                        <tr>
	 			<td align="left" class="negrita" >Ingrese Nombre:</td>
	 			<td align="left"><p:inputText style="width:97.5%" value="#{descripcionInversionMB.nombre}" /></td>
	 		</tr>
                        <tr>
	 			<td align="left">Ingrese Descripcion:</td>
	 			<td align="left"><p:inputTextarea style="width:350px" value="#{descripcionInversionMB.descripcion}" /></td>
	 		</tr>
                         <tr>
	 			<td align="right"></td>
	 			<td align="left"></td>
	 		</tr>
                          <tr>
	 			<td align="right"></td>
	 			<td align="left"></td>
	 		</tr>
	 		<tr>
                        <td></td>
	 			<td align="left" >
                                    <p:commandButton  oncomplete="insertarDesc.hide()" action="#{descripcionInversionMB.guardar}" update=":form:tabla :form:mensaje" style="width:70px" value="#{btn.btn_guardar}" />
                                    <p:commandButton  style="width:70px" value="Salir" onclick="insertarDesc.hide ()" />
                                </td>	 			
	 		</tr>
	 	</table>
		</p:dialog>
                <p:dialog id="confirEliminar" widgetVar="confirEliminar" header="Confirmar" modal="true">
                <table style="font-size: 11px">
                                    <tr>
                                            <td colspan="2"> Esta Seguro que desea eliminar descripcion Inversion?</td>
                                    </tr>
                                    <tr>
                                            <td align="right"><p:commandButton update=":form:tabla :form:mensaje" value="Eliminar" actionListener="#{descripcionInversionMB.eliminar}" oncomplete="confirEliminar.hide()"></p:commandButton></td>
                                            <td align="left"><p:commandButton value="Cancelar"  onclick="confirEliminar.hide()"></p:commandButton></td>
                                    </tr>
                </table>
            </p:dialog>          
            <p:dialog header="Editar" widgetVar="editarPanel" id="editarPanel"  modal="true" style="text-align:center;">
	 	<table  style="margin-bottom:5px;font-size:11px;text-align:center">
	 		<tr>
	 			<td align="right">ID:</td>
	 			<td align="left" ><p:inputText value="#{descripcionInversionMB.codigoInversionE}" style="width:30px" /> </td>
	 		</tr>
			<tr>
	 			<td align="left">#{etq.etq_rti_inti}</td>
	 			<td align="left" ><p:inputText value="#{descripcionInversionMB.nombreE}" style="width:300px" /> </td>
	 		</tr>
	 		<tr>
	 			<td align="left">#{etq.etq_rti_idti}</td>
	 			<td align="left"><p:inputTextarea value="#{descripcionInversionMB.descripcionE}"  style="width:300px" /> </td>
	 		</tr>
	 		
	 		<tr>
	 			<td align="right"><p:commandButton update=":form:tabla :form:mensaje"  oncomplete="editarPanel.hide()" action="#{descripcionInversionMB.editar}" style="width:70px" value="#{btn.btn_modificar}" /></td>
	 			<td align="left"><p:commandButton  style="width:70px" value="Salir" onclick="editarPanel.hide ()" /></td>
	 		</tr>
	 	</table>
		</p:dialog>
          </h:form>
        </h:body>
    </html>
</f:view>