<?xml version='1.0' encoding='windows-1252'?>
<!DOCTYPE html>
<f:view xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets">
    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:p="http://primefaces.org/ui">
        <h:head>
            <link href="#{request.contextPath}/css/diseño.css" rel="stylesheet" type="text/css"/>
            <style type="text/css">
                .ui-dialog-titlebar {
                    font-size: 13px;
                    font-family: sans-serif;
                }
            </style>
            <script type="text/javascript">
              function pasarMayuscula(obj, id) {
                  obj = obj.toUpperCase();
                  document.getElementById(id).value = obj;
              }

              function validarLetras(e) {
                  tecla = (document.all) ? e.keyCode : e.which;
                    if (tecla==8) return true; // backspace
                    if (tecla==32) return true; // espacio
                    if (tecla==9)  return true; // tab
                    patron = /[a-zA-Z]/;//patron
                  te = String.fromCharCode(tecla);
                  return patron.test(te);// prueba de patron
              }
            </script>
        </h:head>
        <h:body>
            <f:event listener="#{infraestructuraMB.ListarInfraestructura}" type="postAddToView"></f:event>
             
            <h:form id="form">
                <p:growl id="mensaje" showDetail="true" life="10000"/>
                <p:layout fullPage="true" style="border:none">
                    <p:layoutUnit position="center" style="border:0px">
                        <ui:include src="/ositran/util/menu.xhtml"/>
                        <div align="center">
                            <h3 style="color:Black;font-weight:bold;font-family: sans-serif;">
                                #{msg.tituloMTI}
                            </h3>
                        </div>
                        <div align="center">
                            <table style="width:80% ;font-size:11px;" >
                                <tr>
                                    <td>
                                        #{etq.etq_nombre}:
                                    </td>
                                    <td>
                                        <p:inputText    id="nomInfraSearch" 
                                                        size="60"
                                                        value="#{infraestructuraMB.nomInfraSearch}"
                                                        onkeyup="pasarMayuscula(this.value,this.id)"/>
                                    </td>
                                    <td align="right" >
                                        <p:commandButton image="ui-icon-search" value="#{btn.btn_buscar}"
                                                         action="#{infraestructuraMB.SearchListaInfra}"
                                                         update=":form:tablaMTI"/>
                                        
                                    </td>
                                </tr>
                                                                    
                                 <tr>
                                    <td>
                                        #{etq.etq_des}:
                                    </td>
                                    <td >
                                        <p:inputText    id="desInfraSearch" 
                                                        size="60"
                                                        value="#{infraestructuraMB.desInfraSearch}"
                                                        onkeyup="pasarMayuscula(this.value,this.id)"/>
                                    </td>
                                    <td align="right">
                                        <p:commandButton value="#{btn.btn_limpiar}" type="reset" image="ui-icon-trash"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td align="right" colspan="3">
                                        <p:commandButton value="#{btn.btn_nuevo}" onclick="popupagregar.show()"
                                                         type="reset" image="ui-icon-document"/>                                     
                                        
                                    </td>
                                </tr>
                                
                                
                                <tr>
                                    <td colspan="3">
                                        <p:dataTable style="font-size:11px;" id="tablaMTI" var="mti"
                                                     value="#{infraestructuraMB.listaInfraestructura}"
                                                     paginator="true"
                                                     paginatorPosition="bottom"
                                                     paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                     rowsPerPageTemplate="5,10,15">
                                            
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Nombres"/>
                                                </f:facet>
                                                <h:outputText value="#{mti.tinNombre}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Descripcion"/>
                                                </f:facet>
                                                <h:outputText value="#{mti.tinDescripcion}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Actualizar"/>
                                                </f:facet>
                                                <p:commandButton update=":form:popupeditar"
                                                                 action="#{infraestructuraMB.cargarEditar(mti)}"
                                                                 oncomplete="popupeditar.show()"
                                                                 image="ui-icon-document"
                                                                 style="width:25px;height:25px"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Eliminar"/>
                                                </f:facet>
                                                <p:commandButton update=":form:popupeliminar :form:codEliminar"
                                                                 actionListener="#{infraestructuraMB.cargarEliminar(mti.tinId,mti.tinNombre)}"
                                                                 oncomplete="popupeliminar.show()"
                                                                 image="ui-icon-closethick"
                                                                 style="width:25px;height:25px"/>
                                            </p:column>
                                        </p:dataTable>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </p:layoutUnit>
                    <h:inputHidden value="#{infraestructuraMB.codigoEliminar}" id="codEliminar"/>
                </p:layout>
                <!-- pdialog para boton eliminar -->
                <p:dialog id="popupeliminar" widgetVar="popupeliminar" header="Confirmar" modal="true">
                    <table style="font-size: 11px">
                        <tr>
                            <td colspan="2">
                                Eliminar el tipo de infraestructura: " 
                                #{infraestructuraMB.nombreEliminar}"
                            </td>
                        </tr>
                         
                        <tr>
                            <td align="right">
                                <p:commandButton update=":form:tablaMTI :form:mensaje"
                                                 actionListener="#{infraestructuraMB.eliminar}" value="Eliminar"
                                                 oncomplete="popupeliminar.hide()"/>
                            </td>
                            <td align="left">
                                <p:commandButton value="Cancelar" onclick="popupeliminar.hide()"/>
                            </td>
                        </tr>
                    </table>
                </p:dialog>
                <!-- fin pdialog para boton eliminar -->
                <!-- pdialog para boton agregar -->
                <p:dialog header="Agregar Tipo de Infraestructura" widgetVar="popupagregar" modal="true"
                          resizable="false" style="text-align:center;">
                    <table style="margin-bottom:5px;font-size: 11px;text-align:center">
                        <tr>
                            <td align="left">
                                #{etq.etq_ntinfra}
                            </td>
                            <td align="left">
                                <p:inputText value="#{infraestructuraMB.tinNombre}" style="width:300px"
                                             onkeyup="pasarMayuscula(this.value,this.id)"
                                             onkeydown="return validarLetras(event)"/>
                            </td>
                        </tr>
                         
                        <tr>
                            <td align="left">
                                #{etq.etq_dtinfra}
                            </td>
                            <td align="left">
                                <p:inputTextarea value="#{infraestructuraMB.tinDescripcion}" style="width:300px"
                                                 onkeyup="pasarMayuscula(this.value,this.id)"/>
                            </td>
                        </tr>
                         
                        <tr>
                            <td align="center" colspan="2">
                                <p:commandButton update=":form:tablaMTI :form:mensaje"
                                                 action="#{infraestructuraMB.guardar}" style="width:70px"
                                                 value="#{btn.btn_guardar}"/>
                                 
                                <p:commandButton value="#{btn.btn_salir}" oncomplete="popupagregar.hide()"
                                                 style="width:70px"/>
                            </td>
                        </tr>
                    </table>
                </p:dialog>
                <!-- fin pdialog para boton agregar -->
                <!-- pdialog para boton editar -->
                <p:dialog id="popupeditar" header="Modificar Tipo de Infraestructura" widgetVar="popupeditar"
                          modal="true" resizable="false" minWidth="200">
                    <div align="center" style="width: 100%">
                        <table style="margin-bottom:5px;font-size: 11px;text-align:center">
                            <tr>
                                <td>
                                    <h:inputHidden value="#{infraestructuraMB.codigoE}"/>
                                </td>
                            </tr>
                             
                            <tr>
                                <td align="left">
                                    #{etq.etq_ntinfra}
                                </td>
                                <td align="left">
                                    <p:inputText value="#{infraestructuraMB.tinNombreE}" size="30" maxlength="50"
                                                 onkeyup="pasarMayuscula(this.value,this.id)"
                                                 onkeydown="return validarLetras(event)"/>
                                </td>
                            </tr>
                             
                            <tr>
                                <td align="left">
                                    #{etq.etq_dtinfra}
                                </td>
                                <td align="left">
                                    <p:inputTextarea value="#{infraestructuraMB.tinDescripcionE}" style="width:250px"
                                                     onkeyup="pasarMayuscula(this.value,this.id)"/>
                                </td>
                            </tr>
                             
                            <tr>
                                <td align="center" colspan="2">
                                    <p:commandButton update=":form:tablaMTI :form:mensaje"
                                                     oncomplete="popupeditar.hide()"
                                                     action="#{infraestructuraMB.editar}" style="width:70px"
                                                     value="#{btn.btn_modificar}"/>
                                     
                                    <p:commandButton value="#{btn.btn_salir}" oncomplete="popupeditar.hide()"/>
                                </td>
                            </tr>
                        </table>
                    </div>
                </p:dialog>
                <!-- fin pdialog para boton editar -->
            </h:form>
        </h:body>
    </html>
    <!--oracle-jdev-comment:auto-binding-backing-bean-name:backing_ositran_parametros_mantenimientoTipoInfraestructura-->
</f:view>