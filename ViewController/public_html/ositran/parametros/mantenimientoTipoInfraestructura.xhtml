<?xml version='1.0' encoding='windows-1252'?>
<!DOCTYPE html>
<f:view xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets">
    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:p="http://primefaces.org/ui">
        <h:head>
            <style type="text/css">
                .ui-dialog-titlebar {
                    font-size: 13px;
                    font-family: sans-serif;
                }
            </style>
        </h:head>
        <h:body>
            <f:event listener="#{infraestructuraMB.ListarInfraestructura}" type="postAddToView"></f:event>
             
            <h:form id="form">
                <p:layout fullPage="true" style="border:none">
                    <p:layoutUnit position="center" style="border:0px">
                        <ui:include src="/ositran/util/menu.xhtml"/>
                        <div align="center">
                            <h3 style="color:Black;font-weight:bold;font-family: sans-serif;">#{msg.tituloMTI}</h3>
                        </div>
                        <div align="center">
                            <table style="width:70% ;font-size:11px;">
                                
                                <tr>
                                    <td>#{etq.etq_nombre}</td>
                                    <td><p:inputText id="nomInfraSearch"  value="#{infraestructuraMB.nomInfraSearch}"/></td>
                                    <td><p:commandButton image="ui-icon-search" value="#{btn.btn_buscar}" action="#{infraestructuraMB.SearchListaInfra}" update=":form:tablaMTI"/></td>
                                </tr>
                                 
                                <tr>
                                    <td colspan="2"></td>
                                    <td><p:commandButton value="#{btn.btn_limpiar}" type="reset" /></td>
                                </tr>
                                 
                                <tr>
                                    <td colspan="3">
                                        <p:dataTable style="font-size:11px;" id="tablaMTI" var="mti"
                                                     value="#{infraestructuraMB.listaInfraestructura}">
                                                     
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="ID"/>
                                                </f:facet>
                                                <h:outputText value="#{mti.tinId}" />
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Nombres"/>
                                                </f:facet>
                                                <h:outputText value="#{mti.tinNombre}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Descripcion"/>
                                                </f:facet>
                                                <h:outputText value="#{mti.tinDescripcion}"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Actualizar"/>
                                                </f:facet>
                                                
                                                <p:commandButton update=":form:popupeditar"
                                                                 action="#{infraestructuraMB.cargarEditar(mti)}"
                                                                 oncomplete="popupeditar.show()"
                                                                 image="ui-icon-document"
                                                                 style="width:25px;height:25px"/>
                                            </p:column>
                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Eliminar"/>
                                                </f:facet>
                                                <p:commandButton update=":form:popupeliminar :form:codEliminar"
                                                                 actionListener="#{infraestructuraMB.cargarEliminar(mti.tinId,mti.tinNombre)}"
                                                                 oncomplete="popupeliminar.show()"
                                                                 image="ui-icon-closethick"
                                                                 style="width:25px;height:25px"/>
                                            </p:column>
                                        </p:dataTable>
                                    </td>
                                </tr>
                                 
                                <tr>
                                    <td align="center" colspan="3">
                                        <p:commandButton value="#{btn.btn_nuevo}" oncomplete="popupagregar.show()"/>
                                        <p:commandButton value="#{btn.btn_salir}"/>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </p:layoutUnit>
                    <h:inputHidden value="#{infraestructuraMB.codigoEliminar}" id="codEliminar"/>
                </p:layout>
                
                <!-- pdialog para boton eliminar -->
                <p:dialog id="popupeliminar" widgetVar="popupeliminar" header="Confirmar" modal="true">
                    <table style="font-size: 11px">
                   
                        <tr>
                            <td colspan="2">
                                Eliminar el tipo de infraestructura: "
                                #{infraestructuraMB.nombreEliminar}"
                            </td>
                        </tr>
                         
                        <tr>
                            <td align="right">
                                <p:commandButton update=":form:tablaMTI" actionListener="#{infraestructuraMB.eliminar}"
                                                 value="Eliminar" oncomplete="popupeliminar.hide()"/>
                            </td>
                            <td align="left">
                                <p:commandButton value="Cancelar" onclick="popupeliminar.hide()"/>
                            </td>
                        </tr>
                    </table>
                </p:dialog>
                <!-- fin pdialog para boton eliminar -->
                
                <!-- pdialog para boton agregar -->
                <p:dialog   header="Agregar Tipo de Infraestructura"
                            widgetVar="popupagregar" 
                            modal="true"
                            resizable="false"
                            style="text-align:center;">
                    <table style="margin-bottom:5px;font-size: 11px;text-align:center">
                        <tr>
                            <td align="left">#{etq.etq_ntinfra}</td>
                            <td align="left">
                                <p:inputText value="#{infraestructuraMB.tinNombre}" style="width:300px"/>
                            </td>
                        </tr>
                         
                        <tr>
                            <td align="left">#{etq.etq_dtinfra}</td>
                            <td align="left"><p:inputTextarea value="#{infraestructuraMB.tinDescripcion}" style="width:300px"/></td>
                        </tr>
                         
                        <tr>
                            <td align="center" colspan="2">
                                <p:commandButton    update=":form:tablaMTI"
                                                    action="#{infraestructuraMB.guardar}"
                                                    oncomplete="popupagregar.hide()"
                                                    style="width:70px"
                                                    value="#{btn.btn_guardar}"/>
                                 
                                <p:commandButton    value="#{btn.btn_salir}"
                                                    oncomplete="popupagregar.hide()"
                                                    style="width:70px"/>
                            </td>
                        </tr>
                    </table>
                </p:dialog>
                <!-- fin pdialog para boton agregar -->
                
                <!-- pdialog para boton editar -->
                <p:dialog id="popupeditar" header="Modificar Tipo de Infraestructura" widgetVar="popupeditar"
                          modal="true" resizable="false" minWidth="200">
                    <div align="center" style="width: 100%">
                        <table style="margin-bottom:5px;font-size: 11px;text-align:center">
                            <tr>
                                <td align="left">ID:</td>
                                <td align="left">
                                    <p:inputText value="#{infraestructuraMB.codigoE}" size="30" maxlength="50"/>
                                </td>
                            </tr>
                             
                            <tr>
                                <td align="left">
                                    #{etq.etq_ntinfra}
                                </td>
                                <td align="left">
                                    <p:inputText value="#{infraestructuraMB.tinNombreE}" size="30" maxlength="50"/>
                                </td>
                            </tr>
                             
                            <tr>
                                <td align="left">
                                    #{etq.etq_dtinfra}
                                </td>
                                <td align="left">
                                    <p:inputTextarea value="#{infraestructuraMB.tinDescripcionE}" style="width:250px"/>
                                </td>
                            </tr>
                             
                            <tr>
                                <td align="center" colspan="2">
                                    <p:commandButton update=":form:tablaMTI" oncomplete="popupeditar.hide()"
                                                     action="#{infraestructuraMB.editar}" style="width:70px"
                                                     value="#{btn.btn_modificar}"/>
                                     
                                    <p:commandButton value="#{btn.btn_salir}" oncomplete="popupeditar.hide()"/>
                                </td>
                            </tr>
                        </table>
                    </div>
                </p:dialog>
                <!-- fin pdialog para boton editar -->
            </h:form>
        </h:body>
    </html>
    <!--oracle-jdev-comment:auto-binding-backing-bean-name:backing_ositran_parametros_mantenimientoTipoInfraestructura-->
</f:view>