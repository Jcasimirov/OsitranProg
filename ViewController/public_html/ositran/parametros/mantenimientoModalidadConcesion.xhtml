<?xml version='1.0' encoding='windows-1252'?>
<!DOCTYPE html>
<f:view xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets">
    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:p="http://primefaces.org/ui">
        <h:head>
            <style type="text/css">
                .ui-dialog-titlebar {
                    font-size: 13px;
                    font-family: sans-serif;
                }
            </style>
            <link href="#{request.contextPath}/css/diseño.css" rel="stylesheet" type="text/css"/>
        </h:head>
        <ui:include src="/ositran/util/menu.xhtml"/>
        <h:body>
        <f:event listener="#{backing_mantenimientoModalidadConcesion.getQuery}" type="postAddToView"/>
        <h:form binding="#{backing_mantenimientoModalidadConcesion.form1}" id="form1">
         <p:growl id="mensaje" showDetail="true"  life="3000" /> 
                         <p:layout style="min-width:400px;min-height:500px;">
                    <!--p:layoutUnit position="north">
                        <div style="text-align: center;">
                            <p:outputLabel value="MANTENIMIENTO MODALIDAD DE CONCESION"/>
                        </div>
                    </p:layoutUnit-->
                    <!--p:layoutUnit position="south"></p:layoutUnit-->
                    <p:layoutUnit position="center" minSize="300" visible="true" style="text-aling:center;">
                     <div align="center">
                <h3 style="color:Black;font-weight:bold;font-family: sans-serif;" >MANTENIMIENTO DE MODALIDAD DE CONCESION</h3>
               </div>
                
                        <div align="center" style="font-size: 11px">
                            <div align="center" style="width:100%">
                            <div align="left" style="width:60%">
                           <table>
                           <tr>
                           <td>
                                <p:fieldset legend="Criterio de Busqueda" style="width:10%;margin-bottom:5px;">
                                
                                <table style="margin-bottom:5px;font-size: 11px;margin-right: 35%;">
                                    <tr>
                                        <td>
                                            #{etq.etq_nombre}
                                        </td>
                                        <td>
                                        <p:inputText style="width:200px;text-transform:uppercase;" id="nombremodbuscar"
                                             value="#{backing_mantenimientoModalidadConcesion.nombremodbuscar}"></p:inputText>
                                            
                                        </td>
                                        
                                        <td>
                                        <p:commandButton image="ui-icon-search" action="#{backing_mantenimientoModalidadConcesion.FiltrarListaModalidad}"
                                                              
                                                             update=":form1:tablamodalidad" id="btnbuscar">
                                                             
                                            </p:commandButton>   
                                            <p:tooltip id="toolTipTrackBus" for="btnbuscar" value="Buscar Por Nombre de Modalidad de Concesión" trackMouse="true" />
                                        </td>
                                   
                                        <td>
                                            <p:commandButton value="#{btn.btn_limpiar}" action="#{backing_mantenimientoModalidadConcesion.LimpiarFiltro}" update=":form1:nombremodbuscar"
                                            id="btnLimpiar"/>
                                        </td>
                                        <p:tooltip id="toolTipTrackLimpiar" for="btnLimpiar" value="Limpiar Criterio de Busqueda" trackMouse="true" />
                                                                       
                                        
                                    </tr>

                                </table>
                                </p:fieldset>
                                </td>
                                <td style="width:100%">
                                <div align="right" style="width:100%">
                                <table>
                                    <tr>
                                        <td align="right">    
                                            <p:commandButton value="Nueva Modalidad de Concesión" actionListener="#{backing_mantenimientoModalidadConcesion.limpiarCampos}" update=":form1:regModalidad"  oncomplete="regModalidad.show()"></p:commandButton>
                                        </td>
                                    </tr>
                                </table>
                              </div>
                              </td>
                              </tr>
                              </table>
                                </div>
                                <div style="width:60%">
                                <p:dataTable value="#{backing_mantenimientoModalidadConcesion.listaMod}" id="tablamodalidad"
                                                 var="modalidad" selectionMode="single" style="font-size:11px;"
                                                 rowKey="#{modalidad.mcoId}" rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                 paginatorPosition="bottom"
                                                 rowsPerPageTemplate="5,10,15"
                                                 emptyMessage="No se Encontraron Registros"
                                                 rowIndexVar="rowIndex">
                                        <p:column headerText="N°" style="width:3%">
                                            <h:outputText value=" #{rowIndex+1}" style="text-transform:uppercase;"/>
                                        </p:column>         
                                        <p:column headerText="Nombre" style="width:30%">
                                            <h:outputText value="#{modalidad.mcoNombre}" style="text-transform:uppercase;"/>
                                        </p:column>
                                        <p:column headerText="Descripción" style="width:50%">
                                            <h:outputText value="#{modalidad.mcoDescripcion}" style="text-transform:uppercase;"/>
                                        </p:column>
                                        <p:column headerText="Modificar" style="width:7%">
                                        <div style="text-align: center;">
                                            <p:commandButton actionListener="#{backing_mantenimientoModalidadConcesion.EmpSupUpd1}"
                                                             image="ui-icon-pencil" style="width:25px"
                                                             oncomplete="modModalidad.show()" update=":form1:modModalidad">
                                                <f:param id="idModificar" name="idModificar" value="#{modalidad.mcoId}"/>
                                            </p:commandButton>
                                            <h:outputText value=""/>
                                        </div>
                                        </p:column>
                                        <p:column headerText="Eliminar" style="width:7%">
                                        <div style="text-align: center;">
                                            <p:commandButton 
                                                             image="ui-icon-trash"
                                                             actionListener="#{backing_mantenimientoModalidadConcesion.confirmarEliminar}" oncomplete="confirEliminar.show()" update=":form1:confirEliminar">                                                             
                                            <f:param id="idEliminar" name="idEliminar" value="#{modalidad.mcoId}"/>
                                            </p:commandButton>
                                            <h:outputText value=""/>
                                        </div>
                                        </p:column>
                                    </p:dataTable>
                                    
                                </div>
                                
                                
                            </div>
                        </div>
                        
                    </p:layoutUnit>
                </p:layout>
         <p:dialog header="Registrar Modalidad de Concesion" id="regModalidad" widgetVar="regModalidad" modal="true"
                          resizable="false" height="250px" width="760px">
         
         <div align="center" style="width: 100%">
	 	<table  style="margin-bottom:5px;font-size: 11px;text-align:center">
	 		
	 		<tr>
	 			<td align="left">#{etq.etq_nmcon}</td>
	 			<td align="left"><p:inputText style="text-transform:uppercase;" id = "nombremod" value="#{backing_mantenimientoModalidadConcesion.nombremod}"></p:inputText></td>
	 		</tr>
	 		<tr>
	 			<td align="left">#{etq.etq_dmcon}</td>
	 			<td align="left"><p:inputTextarea style="width:250px;text-transform:uppercase;" id="descripcionmod" value="#{backing_mantenimientoModalidadConcesion.descripcionmod}"></p:inputTextarea></td>
	 		</tr>
	 		<tr>
	 			<td align="center" colspan="2"><p:commandButton value="#{btn.btn_guardar}" actionListener="#{backing_mantenimientoModalidadConcesion.guardar}"                                                 
                                               update=":form1:mensaje :form1:tablamodalidad"   ></p:commandButton>
                                <p:commandButton onclick="regModalidad.hide()" value="#{btn.btn_salir}"></p:commandButton></td>
	 		</tr>
	 	</table>
	 	</div>
         
         </p:dialog>
                         <p:dialog id="confirEliminar" widgetVar="confirEliminar" header="Confirmar" modal="true">
                <table style="font-size: 11px">
                <tr>
                 <td>
                                <h:inputHidden value="#{backing_mantenimientoModalidadConcesion.idEliminar}"/>
                            </td>
                </tr>
                                    <tr>
                                    
                                            <td colspan="2"> Eliminar Empresa Supervisora: "#{backing_mantenimientoModalidadConcesion.nombreEliminar}" </td>
                                    </tr>
                                    <tr>
                                            <td align="right"><p:commandButton   value="Eliminar" actionListener="#{backing_mantenimientoModalidadConcesion.EliminarModalidad}" update=":form1 :form1:mensaje" oncomplete="confirEliminar.hide()"></p:commandButton></td>
                                            <td align="left"><p:commandButton value="Cancelar"  onclick="confirEliminar.hide()"></p:commandButton></td>
                                    </tr>
                </table>
            </p:dialog>
         <p:dialog header="Modificar Modalidad de Concesion" id="modModalidad" widgetVar="modModalidad" modal="true"
                          resizable="false" height="250px" width="760px">
         
         <div align="center" style="width: 100%">
	 	<table  style="margin-bottom:5px;font-size: 11px;text-align:center">
                <tr>
                            <td>
                                <h:inputHidden value="#{backing_mantenimientoModalidadConcesion.idmodalidadAct}"/>
                            </td>
                            <td>
                                <h:inputHidden value="#{backing_mantenimientoModalidadConcesion.estadomodAct}"/>
                            </td>
                            <td>
                                <h:inputHidden value="#{backing_mantenimientoModalidadConcesion.nommod}"/>
                            </td>
                        </tr>
	 		
	 		<tr>
	 			<td align="left">#{etq.etq_nmcon}</td>
	 			<td align="left"><p:inputText style="text-transform:uppercase;" id = "nombremodAct" value="#{backing_mantenimientoModalidadConcesion.nombremodAct}"></p:inputText></td>
	 		</tr>
	 		<tr>
	 			<td align="left">#{etq.etq_dmcon}</td>
	 			<td align="left"><p:inputTextarea style="width:250px;text-transform:uppercase;" id="descripcionmodAct" value="#{backing_mantenimientoModalidadConcesion.descripcionmodAct}"></p:inputTextarea></td>
	 		</tr>
	 		<tr>
	 			<td align="center" colspan="2"><p:commandButton value="#{btn.btn_guardar}" action="#{backing_mantenimientoModalidadConcesion.Modificar}"                                                 
                                                  update=":form1:mensaje :form1:tablamodalidad"></p:commandButton>
                                <p:commandButton onclick="modModalidad.hide()" value="#{btn.btn_salir}"></p:commandButton></td>
	 		</tr>
	 	</table>
	 	</div>
         
         </p:dialog>
        
        
        </h:form>
        <script>
        
        </script>
        </h:body>
    </html>
    
</f:view>